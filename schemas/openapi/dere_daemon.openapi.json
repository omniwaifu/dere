{
  "components": {
    "schemas": {
      "ActivityState": {
        "description": "Current user activity from ActivityWatch.",
        "properties": {
          "activity_category": {
            "default": "absent",
            "title": "Activity Category",
            "type": "string"
          },
          "current_app": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current App"
          },
          "current_title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Title"
          },
          "idle_duration_seconds": {
            "default": 0,
            "title": "Idle Duration Seconds",
            "type": "integer"
          },
          "is_idle": {
            "default": true,
            "title": "Is Idle",
            "type": "boolean"
          }
        },
        "title": "ActivityState",
        "type": "object"
      },
      "ActivityStateResponse": {
        "properties": {
          "afk_events_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Afk Events Count"
          },
          "category_totals": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "number"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category Totals"
          },
          "context_fingerprint": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Fingerprint"
          },
          "current_category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Category"
          },
          "current_media": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Media"
          },
          "current_window": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Window"
          },
          "enabled": {
            "title": "Enabled",
            "type": "boolean"
          },
          "focus_streak_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Focus Streak Seconds"
          },
          "hostname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hostname"
          },
          "idle_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Idle Seconds"
          },
          "is_afk": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Afk"
          },
          "lookback_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Lookback Minutes"
          },
          "media_events_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Events Count"
          },
          "media_streak_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Media Streak Seconds"
          },
          "presence": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Presence"
          },
          "recency_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recency Seconds"
          },
          "recent_media": {
            "default": [],
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Recent Media",
            "type": "array"
          },
          "recent_windows": {
            "default": [],
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Recent Windows",
            "type": "array"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          },
          "top_apps": {
            "default": [],
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Top Apps",
            "type": "array"
          },
          "top_categories": {
            "default": [],
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Top Categories",
            "type": "array"
          },
          "top_titles": {
            "default": [],
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Top Titles",
            "type": "array"
          },
          "unique_apps": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unique Apps"
          },
          "unique_titles": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Unique Titles"
          },
          "window_events_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Window Events Count"
          },
          "window_switches": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Window Switches"
          }
        },
        "required": ["enabled"],
        "title": "ActivityStateResponse",
        "type": "object"
      },
      "AgentResult": {
        "description": "Result from a completed agent.",
        "properties": {
          "agent_id": {
            "title": "Agent Id",
            "type": "integer"
          },
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "output_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Summary"
          },
          "output_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Text"
          },
          "role": {
            "title": "Role",
            "type": "string"
          },
          "started_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "status": {
            "$ref": "#/components/schemas/SwarmStatus"
          },
          "tool_count": {
            "default": 0,
            "title": "Tool Count",
            "type": "integer"
          }
        },
        "required": ["agent_id", "name", "role", "status"],
        "title": "AgentResult",
        "type": "object"
      },
      "AgentSpec": {
        "description": "Specification for an agent to spawn in a swarm.",
        "properties": {
          "allowed_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tool restrictions (None = default tools)",
            "title": "Allowed Tools"
          },
          "capabilities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tools the agent can use (for task matching in autonomous mode)",
            "title": "Capabilities"
          },
          "depends_on": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/DependencySpec"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Dependencies: list of agent names or DependencySpec objects",
            "title": "Depends On"
          },
          "goal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "High-level objective for autonomous agents (used instead of prompt)",
            "title": "Goal"
          },
          "idle_timeout_seconds": {
            "default": 60,
            "description": "Seconds without finding work before terminating (autonomous mode)",
            "title": "Idle Timeout Seconds",
            "type": "integer"
          },
          "max_duration_seconds": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Max runtime in seconds before terminating (autonomous mode)",
            "title": "Max Duration Seconds"
          },
          "max_tasks": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Max tasks to complete before terminating (autonomous mode)",
            "title": "Max Tasks"
          },
          "mode": {
            "$ref": "#/components/schemas/SwarmAgentMode",
            "default": "assigned",
            "description": "Execution mode: assigned (explicit prompt) or autonomous (discover work)"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Claude model override",
            "title": "Model"
          },
          "name": {
            "description": "Agent identifier within the swarm",
            "title": "Name",
            "type": "string"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Personality preset (e.g., 'tsun', 'kuu')",
            "title": "Personality"
          },
          "plugins": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Plugins to enable (e.g., ['dere_code']). None for lean mode.",
            "title": "Plugins"
          },
          "prompt": {
            "default": "",
            "description": "Task prompt for assigned mode (optional for autonomous mode)",
            "title": "Prompt",
            "type": "string"
          },
          "role": {
            "$ref": "#/components/schemas/SwarmAgentRole",
            "default": "generic",
            "description": "Agent role: implementation, review, research, or generic"
          },
          "sandbox_mode": {
            "default": true,
            "description": "Run in Docker sandbox",
            "title": "Sandbox Mode",
            "type": "boolean"
          },
          "task_types": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Task types to filter (feature, bug, refactor, test, docs, research, curiosity)",
            "title": "Task Types"
          },
          "thinking_budget": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Extended thinking token budget",
            "title": "Thinking Budget"
          }
        },
        "required": ["name"],
        "title": "AgentSpec",
        "type": "object"
      },
      "AmbientConfigSummary": {
        "properties": {
          "activity_lookback_hours": {
            "title": "Activity Lookback Hours",
            "type": "integer"
          },
          "check_interval_minutes": {
            "title": "Check Interval Minutes",
            "type": "integer"
          },
          "enabled": {
            "title": "Enabled",
            "type": "boolean"
          },
          "escalation_enabled": {
            "title": "Escalation Enabled",
            "type": "boolean"
          },
          "escalation_lookback_hours": {
            "title": "Escalation Lookback Hours",
            "type": "integer"
          },
          "exploring_enabled": {
            "title": "Exploring Enabled",
            "type": "boolean"
          },
          "exploring_interval_minutes": {
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "integer"
              },
              {
                "type": "integer"
              }
            ],
            "title": "Exploring Interval Minutes",
            "type": "array"
          },
          "exploring_max_daily_cost_usd": {
            "title": "Exploring Max Daily Cost Usd",
            "type": "number"
          },
          "exploring_max_explorations_per_day": {
            "title": "Exploring Max Explorations Per Day",
            "type": "integer"
          },
          "exploring_min_idle_minutes": {
            "title": "Exploring Min Idle Minutes",
            "type": "integer"
          },
          "fsm_enabled": {
            "title": "Fsm Enabled",
            "type": "boolean"
          },
          "fsm_intervals": {
            "additionalProperties": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "maxItems": 2,
                  "minItems": 2,
                  "prefixItems": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "integer"
                    }
                  ],
                  "type": "array"
                }
              ]
            },
            "title": "Fsm Intervals",
            "type": "object"
          },
          "fsm_weights": {
            "additionalProperties": {
              "type": "number"
            },
            "title": "Fsm Weights",
            "type": "object"
          },
          "idle_threshold_minutes": {
            "title": "Idle Threshold Minutes",
            "type": "integer"
          },
          "min_notification_interval_minutes": {
            "title": "Min Notification Interval Minutes",
            "type": "integer"
          },
          "notification_method": {
            "title": "Notification Method",
            "type": "string"
          },
          "personality": {
            "title": "Personality",
            "type": "string"
          },
          "startup_delay_seconds": {
            "title": "Startup Delay Seconds",
            "type": "integer"
          }
        },
        "required": [
          "enabled",
          "personality",
          "notification_method",
          "check_interval_minutes",
          "idle_threshold_minutes",
          "min_notification_interval_minutes",
          "activity_lookback_hours",
          "escalation_enabled",
          "escalation_lookback_hours",
          "startup_delay_seconds",
          "fsm_enabled",
          "fsm_intervals",
          "fsm_weights",
          "exploring_enabled",
          "exploring_min_idle_minutes",
          "exploring_interval_minutes",
          "exploring_max_explorations_per_day",
          "exploring_max_daily_cost_usd"
        ],
        "title": "AmbientConfigSummary",
        "type": "object"
      },
      "AmbientDashboardResponse": {
        "properties": {
          "config": {
            "$ref": "#/components/schemas/AmbientConfigSummary"
          },
          "recent_notifications": {
            "items": {
              "$ref": "#/components/schemas/AmbientNotificationSummary"
            },
            "title": "Recent Notifications",
            "type": "array"
          },
          "recent_runs": {
            "items": {
              "$ref": "#/components/schemas/AmbientRunSummary"
            },
            "title": "Recent Runs",
            "type": "array"
          },
          "summary": {
            "$ref": "#/components/schemas/AmbientDashboardSummary"
          },
          "timestamp": {
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          }
        },
        "required": ["summary", "config", "recent_runs", "recent_notifications", "timestamp"],
        "title": "AmbientDashboardResponse",
        "type": "object"
      },
      "AmbientDashboardSummary": {
        "properties": {
          "fsm_state": {
            "title": "Fsm State",
            "type": "string"
          },
          "is_enabled": {
            "title": "Is Enabled",
            "type": "boolean"
          },
          "last_notification_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Notification At"
          },
          "last_run_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Run At"
          }
        },
        "required": ["fsm_state", "is_enabled", "last_run_at", "last_notification_at"],
        "title": "AmbientDashboardSummary",
        "type": "object"
      },
      "AmbientNotificationSummary": {
        "properties": {
          "acknowledged": {
            "title": "Acknowledged",
            "type": "boolean"
          },
          "context_snapshot": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Snapshot"
          },
          "created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "delivered_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivered At"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "notification_id": {
            "title": "Notification Id",
            "type": "integer"
          },
          "priority": {
            "title": "Priority",
            "type": "string"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "target_location": {
            "title": "Target Location",
            "type": "string"
          },
          "target_medium": {
            "title": "Target Medium",
            "type": "string"
          },
          "trigger_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trigger Type"
          }
        },
        "required": [
          "notification_id",
          "message",
          "priority",
          "status",
          "created_at",
          "delivered_at",
          "acknowledged",
          "target_medium",
          "target_location"
        ],
        "title": "AmbientNotificationSummary",
        "type": "object"
      },
      "AmbientRunSummary": {
        "properties": {
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "execution_id": {
            "title": "Execution Id",
            "type": "integer"
          },
          "message_preview": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Preview"
          },
          "mission_id": {
            "title": "Mission Id",
            "type": "integer"
          },
          "mission_name": {
            "title": "Mission Name",
            "type": "string"
          },
          "priority": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority"
          },
          "send": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Send"
          },
          "started_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "mission_id",
          "mission_name",
          "execution_id",
          "status",
          "started_at",
          "completed_at"
        ],
        "title": "AmbientRunSummary",
        "type": "object"
      },
      "AmbientState": {
        "description": "Current ambient monitor FSM state.",
        "properties": {
          "fsm_state": {
            "default": "unknown",
            "title": "Fsm State",
            "type": "string"
          },
          "is_enabled": {
            "default": false,
            "title": "Is Enabled",
            "type": "boolean"
          },
          "next_check_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Check At"
          }
        },
        "title": "AmbientState",
        "type": "object"
      },
      "ArchivalFactInsertRequest": {
        "description": "Request payload for inserting archival facts.",
        "properties": {
          "fact": {
            "title": "Fact",
            "type": "string"
          },
          "invalid_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invalid At"
          },
          "source": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Source"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "valid_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valid At"
          }
        },
        "required": ["fact"],
        "title": "ArchivalFactInsertRequest",
        "type": "object"
      },
      "ArchivalFactInsertResponse": {
        "description": "Response payload for inserted archival facts.",
        "properties": {
          "created": {
            "title": "Created",
            "type": "boolean"
          },
          "fact": {
            "$ref": "#/components/schemas/FactSummary"
          }
        },
        "required": ["created", "fact"],
        "title": "ArchivalFactInsertResponse",
        "type": "object"
      },
      "AvailableModelsResponse": {
        "description": "List of available Claude models.",
        "properties": {
          "models": {
            "items": {
              "$ref": "#/components/schemas/ModelInfo"
            },
            "title": "Models",
            "type": "array"
          }
        },
        "required": ["models"],
        "title": "AvailableModelsResponse",
        "type": "object"
      },
      "AvailableOutputStylesResponse": {
        "description": "List of available output styles.",
        "properties": {
          "styles": {
            "items": {
              "$ref": "#/components/schemas/OutputStyleInfo"
            },
            "title": "Styles",
            "type": "array"
          }
        },
        "required": ["styles"],
        "title": "AvailableOutputStylesResponse",
        "type": "object"
      },
      "AvailablePersonalitiesResponse": {
        "description": "List of available personalities.",
        "properties": {
          "personalities": {
            "items": {
              "$ref": "#/components/schemas/PersonalityInfo"
            },
            "title": "Personalities",
            "type": "array"
          }
        },
        "required": ["personalities"],
        "title": "AvailablePersonalitiesResponse",
        "type": "object"
      },
      "Body_upload_personality_avatar_personalities__name__avatar_post": {
        "properties": {
          "file": {
            "format": "binary",
            "title": "File",
            "type": "string"
          }
        },
        "required": ["file"],
        "title": "Body_upload_personality_avatar_personalities__name__avatar_post",
        "type": "object"
      },
      "ClaimTaskRequest": {
        "description": "Request to claim a task.",
        "properties": {
          "agent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          }
        },
        "title": "ClaimTaskRequest",
        "type": "object"
      },
      "CommunitiesResponse": {
        "description": "List of communities.",
        "properties": {
          "communities": {
            "items": {
              "$ref": "#/components/schemas/CommunityInfo"
            },
            "title": "Communities",
            "type": "array"
          }
        },
        "required": ["communities"],
        "title": "CommunitiesResponse",
        "type": "object"
      },
      "CommunityInfo": {
        "description": "Community cluster information.",
        "properties": {
          "member_count": {
            "title": "Member Count",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "summary": {
            "title": "Summary",
            "type": "string"
          }
        },
        "required": ["name", "summary", "member_count"],
        "title": "CommunityInfo",
        "type": "object"
      },
      "ConsolidationRunListResponse": {
        "properties": {
          "limit": {
            "title": "Limit",
            "type": "integer"
          },
          "offset": {
            "title": "Offset",
            "type": "integer"
          },
          "runs": {
            "items": {
              "$ref": "#/components/schemas/ConsolidationRunResponse"
            },
            "title": "Runs",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": ["runs", "total", "offset", "limit"],
        "title": "ConsolidationRunListResponse",
        "type": "object"
      },
      "ConsolidationRunResponse": {
        "properties": {
          "community_resolution": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Resolution"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "finished_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Finished At"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "recency_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recency Days"
          },
          "started_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "stats": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stats"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id"
          },
          "triggered_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Triggered By"
          },
          "update_core_memory": {
            "title": "Update Core Memory",
            "type": "boolean"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": [
          "id",
          "user_id",
          "task_id",
          "status",
          "started_at",
          "finished_at",
          "recency_days",
          "community_resolution",
          "update_core_memory",
          "triggered_by",
          "stats",
          "error_message"
        ],
        "title": "ConsolidationRunResponse",
        "type": "object"
      },
      "ContextBuildRequest": {
        "properties": {
          "citation_limit_per_edge": {
            "default": 2,
            "title": "Citation Limit Per Edge",
            "type": "integer"
          },
          "citation_max_chars": {
            "default": 160,
            "title": "Citation Max Chars",
            "type": "integer"
          },
          "context_depth": {
            "default": 5,
            "title": "Context Depth",
            "type": "integer"
          },
          "context_mode": {
            "default": "smart",
            "title": "Context Mode",
            "type": "string"
          },
          "current_prompt": {
            "title": "Current Prompt",
            "type": "string"
          },
          "include_citations": {
            "default": true,
            "title": "Include Citations",
            "type": "boolean"
          },
          "include_entities": {
            "default": false,
            "title": "Include Entities",
            "type": "boolean"
          },
          "max_tokens": {
            "default": 2000,
            "title": "Max Tokens",
            "type": "integer"
          },
          "personality": {
            "title": "Personality",
            "type": "string"
          },
          "project_path": {
            "title": "Project Path",
            "type": "string"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": ["session_id", "project_path", "personality", "current_prompt"],
        "title": "ContextBuildRequest",
        "type": "object"
      },
      "ContextGetRequest": {
        "properties": {
          "max_age_minutes": {
            "default": 30,
            "title": "Max Age Minutes",
            "type": "integer"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          }
        },
        "required": ["session_id"],
        "title": "ContextGetRequest",
        "type": "object"
      },
      "ConversationCaptureRequest": {
        "properties": {
          "command_args": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Command Args"
          },
          "command_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Command Name"
          },
          "exit_code": {
            "default": 0,
            "title": "Exit Code",
            "type": "integer"
          },
          "is_command": {
            "default": false,
            "title": "Is Command",
            "type": "boolean"
          },
          "medium": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medium"
          },
          "message_type": {
            "default": "user",
            "title": "Message Type",
            "type": "string"
          },
          "personality": {
            "title": "Personality",
            "type": "string"
          },
          "project_path": {
            "title": "Project Path",
            "type": "string"
          },
          "prompt": {
            "title": "Prompt",
            "type": "string"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          },
          "speaker_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Speaker Name"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": ["session_id", "personality", "project_path", "prompt"],
        "title": "ConversationCaptureRequest",
        "type": "object"
      },
      "ConversationMessage": {
        "description": "A single conversation message for history display.",
        "properties": {
          "blocks": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Blocks"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "role": {
            "title": "Role",
            "type": "string"
          },
          "thinking": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thinking"
          },
          "timestamp": {
            "title": "Timestamp",
            "type": "string"
          },
          "tool_results": {
            "items": {
              "$ref": "#/components/schemas/ToolResultData"
            },
            "title": "Tool Results",
            "type": "array"
          },
          "tool_uses": {
            "items": {
              "$ref": "#/components/schemas/ToolUseData"
            },
            "title": "Tool Uses",
            "type": "array"
          }
        },
        "required": ["id", "role", "content", "timestamp"],
        "title": "ConversationMessage",
        "type": "object"
      },
      "CoreMemoryBlockResponse": {
        "properties": {
          "block_type": {
            "title": "Block Type",
            "type": "string"
          },
          "char_limit": {
            "title": "Char Limit",
            "type": "integer"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "scope": {
            "title": "Scope",
            "type": "string"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "updated_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "version": {
            "title": "Version",
            "type": "integer"
          }
        },
        "required": [
          "id",
          "block_type",
          "content",
          "scope",
          "session_id",
          "user_id",
          "char_limit",
          "version",
          "updated_at"
        ],
        "title": "CoreMemoryBlockResponse",
        "type": "object"
      },
      "CoreMemoryEditRequest": {
        "properties": {
          "block_type": {
            "enum": ["persona", "human", "task"],
            "title": "Block Type",
            "type": "string"
          },
          "char_limit": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Char Limit"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          },
          "scope": {
            "default": "user",
            "enum": ["user", "session"],
            "title": "Scope",
            "type": "string"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": ["block_type", "content"],
        "title": "CoreMemoryEditRequest",
        "type": "object"
      },
      "CoreMemoryEditResponse": {
        "properties": {
          "block": {
            "$ref": "#/components/schemas/CoreMemoryBlockResponse"
          },
          "created": {
            "title": "Created",
            "type": "boolean"
          }
        },
        "required": ["block", "created"],
        "title": "CoreMemoryEditResponse",
        "type": "object"
      },
      "CoreMemoryHistoryResponse": {
        "properties": {
          "block_id": {
            "title": "Block Id",
            "type": "integer"
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "created_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          },
          "version": {
            "title": "Version",
            "type": "integer"
          }
        },
        "required": ["block_id", "version", "content", "reason", "created_at"],
        "title": "CoreMemoryHistoryResponse",
        "type": "object"
      },
      "CoreMemoryRollbackRequest": {
        "properties": {
          "block_type": {
            "enum": ["persona", "human", "task"],
            "title": "Block Type",
            "type": "string"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          },
          "scope": {
            "default": "user",
            "enum": ["user", "session"],
            "title": "Scope",
            "type": "string"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "target_version": {
            "title": "Target Version",
            "type": "integer"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": ["block_type", "target_version"],
        "title": "CoreMemoryRollbackRequest",
        "type": "object"
      },
      "CoreMemoryRollbackResponse": {
        "properties": {
          "block": {
            "$ref": "#/components/schemas/CoreMemoryBlockResponse"
          },
          "rolled_back_to": {
            "title": "Rolled Back To",
            "type": "integer"
          }
        },
        "required": ["block", "rolled_back_to"],
        "title": "CoreMemoryRollbackResponse",
        "type": "object"
      },
      "CreateMissionRequest": {
        "description": "Request to create a new mission.",
        "properties": {
          "allowed_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Tools"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "mcp_servers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Servers"
          },
          "model": {
            "default": "claude-sonnet-4-20250514",
            "title": "Model",
            "type": "string"
          },
          "name": {
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "type": "string"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality"
          },
          "plugins": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plugins"
          },
          "prompt": {
            "minLength": 1,
            "title": "Prompt",
            "type": "string"
          },
          "run_once": {
            "default": false,
            "title": "Run Once",
            "type": "boolean"
          },
          "sandbox_mode": {
            "default": true,
            "title": "Sandbox Mode",
            "type": "boolean"
          },
          "sandbox_mount_type": {
            "default": "none",
            "title": "Sandbox Mount Type",
            "type": "string"
          },
          "sandbox_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sandbox Settings"
          },
          "schedule": {
            "description": "Cron expression or natural language schedule",
            "title": "Schedule",
            "type": "string"
          },
          "thinking_budget": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thinking Budget"
          },
          "working_dir": {
            "default": "/workspace",
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": ["name", "prompt", "schedule"],
        "title": "CreateMissionRequest",
        "type": "object"
      },
      "CreateSessionRequest": {
        "properties": {
          "medium": {
            "default": "cli",
            "title": "Medium",
            "type": "string"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality"
          },
          "working_dir": {
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": ["working_dir"],
        "title": "CreateSessionRequest",
        "type": "object"
      },
      "CreateSessionResponse": {
        "properties": {
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          }
        },
        "required": ["session_id"],
        "title": "CreateSessionResponse",
        "type": "object"
      },
      "CreateSwarmRequest": {
        "description": "Request to create a new swarm.",
        "properties": {
          "agents": {
            "items": {
              "$ref": "#/components/schemas/AgentSpec"
            },
            "title": "Agents",
            "type": "array"
          },
          "auto_start": {
            "default": true,
            "description": "Start execution immediately after creation",
            "title": "Auto Start",
            "type": "boolean"
          },
          "auto_supervise": {
            "default": false,
            "description": "Spawn a watchdog supervisor to monitor agents for failures/stalls",
            "title": "Auto Supervise",
            "type": "boolean"
          },
          "auto_synthesize": {
            "default": false,
            "description": "Spawn a synthesis agent after all others complete to aggregate results",
            "title": "Auto Synthesize",
            "type": "boolean"
          },
          "base_branch": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Branch"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "git_branch_prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Branch Prefix"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "parent_session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Session Id"
          },
          "skip_synthesis_on_failure": {
            "default": false,
            "description": "Skip synthesis if any agent failed",
            "title": "Skip Synthesis On Failure",
            "type": "boolean"
          },
          "supervisor_cancel_seconds": {
            "default": 1800,
            "description": "Seconds before supervisor marks agent as stuck (default: 30 min)",
            "title": "Supervisor Cancel Seconds",
            "type": "integer"
          },
          "supervisor_warn_seconds": {
            "default": 600,
            "description": "Seconds before supervisor warns a stalling agent (default: 10 min)",
            "title": "Supervisor Warn Seconds",
            "type": "integer"
          },
          "synthesis_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Custom prompt for synthesis agent (auto-generated if None)",
            "title": "Synthesis Prompt"
          },
          "working_dir": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Working Dir"
          }
        },
        "required": ["name", "agents"],
        "title": "CreateSwarmRequest",
        "type": "object"
      },
      "CreateSwarmResponse": {
        "description": "Response from swarm creation.",
        "properties": {
          "agents": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Agents",
            "type": "array"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/SwarmStatus"
          },
          "swarm_id": {
            "title": "Swarm Id",
            "type": "integer"
          }
        },
        "required": ["swarm_id", "name", "status", "agents"],
        "title": "CreateSwarmResponse",
        "type": "object"
      },
      "CreateTaskRequest": {
        "description": "Request to create a new task.",
        "properties": {
          "acceptance_criteria": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Acceptance Criteria"
          },
          "blocked_by": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Blocked By"
          },
          "context_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Summary"
          },
          "created_by_agent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By Agent Id"
          },
          "created_by_session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By Session Id"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "discovered_from_task_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discovered From Task Id"
          },
          "discovery_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discovery Reason"
          },
          "estimated_effort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Effort"
          },
          "extra": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra"
          },
          "priority": {
            "default": 0,
            "title": "Priority",
            "type": "integer"
          },
          "related_task_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Task Ids"
          },
          "required_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Required Tools"
          },
          "scope_paths": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope Paths"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "task_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Type"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "working_dir": {
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": ["title", "working_dir"],
        "title": "CreateTaskRequest",
        "type": "object"
      },
      "DashboardState": {
        "description": "Aggregated dashboard state for the UI.",
        "properties": {
          "activity": {
            "$ref": "#/components/schemas/ActivityState"
          },
          "ambient": {
            "$ref": "#/components/schemas/AmbientState"
          },
          "emotion": {
            "$ref": "#/components/schemas/EmotionState"
          },
          "timestamp": {
            "format": "date-time",
            "title": "Timestamp",
            "type": "string"
          }
        },
        "required": ["emotion", "activity", "ambient", "timestamp"],
        "title": "DashboardState",
        "type": "object"
      },
      "DependencyIncludeMode": {
        "description": "How much output to include from a dependency.",
        "enum": ["summary", "full", "none"],
        "title": "DependencyIncludeMode",
        "type": "string"
      },
      "DependencySpec": {
        "description": "Detailed specification for a dependency.",
        "properties": {
          "agent": {
            "description": "Name of the agent to depend on",
            "title": "Agent",
            "type": "string"
          },
          "condition": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional condition expression. If set, the dependent agent only runs if this evaluates to True against the dependency's JSON output. Example: 'output.risk_level == \"high\"' or 'len(output.issues) > 0'",
            "title": "Condition"
          },
          "include": {
            "$ref": "#/components/schemas/DependencyIncludeMode",
            "default": "summary",
            "description": "How much output to include from this dependency"
          }
        },
        "required": ["agent"],
        "title": "DependencySpec",
        "type": "object"
      },
      "EdgeSummary": {
        "description": "Summary of a knowledge graph edge/fact.",
        "properties": {
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "fact": {
            "title": "Fact",
            "type": "string"
          },
          "invalid_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invalid At"
          },
          "relation": {
            "title": "Relation",
            "type": "string"
          },
          "source_name": {
            "title": "Source Name",
            "type": "string"
          },
          "source_uuid": {
            "title": "Source Uuid",
            "type": "string"
          },
          "strength": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Strength"
          },
          "target_name": {
            "title": "Target Name",
            "type": "string"
          },
          "target_uuid": {
            "title": "Target Uuid",
            "type": "string"
          },
          "uuid": {
            "title": "Uuid",
            "type": "string"
          },
          "valid_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valid At"
          }
        },
        "required": [
          "uuid",
          "source_uuid",
          "source_name",
          "target_uuid",
          "target_name",
          "relation",
          "fact",
          "strength",
          "valid_at",
          "invalid_at",
          "created_at"
        ],
        "title": "EdgeSummary",
        "type": "object"
      },
      "EmotionEvent": {
        "description": "A stimulus event that affected emotional state.",
        "properties": {
          "intensity": {
            "title": "Intensity",
            "type": "number"
          },
          "reasoning": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reasoning"
          },
          "resulting_emotions": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/ResultingEmotion"
            },
            "title": "Resulting Emotions",
            "type": "array"
          },
          "stimulus_type": {
            "title": "Stimulus Type",
            "type": "string"
          },
          "timestamp": {
            "title": "Timestamp",
            "type": "integer"
          },
          "valence": {
            "title": "Valence",
            "type": "number"
          }
        },
        "required": ["timestamp", "stimulus_type", "valence", "intensity"],
        "title": "EmotionEvent",
        "type": "object"
      },
      "EmotionHistoryDBResponse": {
        "description": "Response containing emotion history from database with time range.",
        "properties": {
          "end_time": {
            "title": "End Time",
            "type": "integer"
          },
          "events": {
            "items": {
              "$ref": "#/components/schemas/EmotionEvent"
            },
            "title": "Events",
            "type": "array"
          },
          "start_time": {
            "title": "Start Time",
            "type": "integer"
          },
          "total_count": {
            "title": "Total Count",
            "type": "integer"
          }
        },
        "required": ["events", "total_count", "start_time", "end_time"],
        "title": "EmotionHistoryDBResponse",
        "type": "object"
      },
      "EmotionHistoryResponse": {
        "description": "Response containing emotion history.",
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/EmotionEvent"
            },
            "title": "Events",
            "type": "array"
          },
          "total_count": {
            "title": "Total Count",
            "type": "integer"
          }
        },
        "required": ["events", "total_count"],
        "title": "EmotionHistoryResponse",
        "type": "object"
      },
      "EmotionProfileResponse": {
        "description": "User's OCC psychological profile.",
        "properties": {
          "attitudes": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/OCCAttitudeResponse"
            },
            "title": "Attitudes",
            "type": "array"
          },
          "goals": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/OCCGoalResponse"
            },
            "title": "Goals",
            "type": "array"
          },
          "has_profile": {
            "title": "Has Profile",
            "type": "boolean"
          },
          "profile_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Profile Path"
          },
          "standards": {
            "default": [],
            "items": {
              "$ref": "#/components/schemas/OCCStandardResponse"
            },
            "title": "Standards",
            "type": "array"
          }
        },
        "required": ["has_profile"],
        "title": "EmotionProfileResponse",
        "type": "object"
      },
      "EmotionState": {
        "description": "Current emotion state.",
        "properties": {
          "intensity": {
            "title": "Intensity",
            "type": "number"
          },
          "last_updated": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Updated"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": ["type", "intensity"],
        "title": "EmotionState",
        "type": "object"
      },
      "EndSessionRequest": {
        "properties": {
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          }
        },
        "required": ["session_id"],
        "title": "EndSessionRequest",
        "type": "object"
      },
      "EndSessionResponse": {
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "summary_generated": {
            "default": false,
            "title": "Summary Generated",
            "type": "boolean"
          }
        },
        "required": ["status"],
        "title": "EndSessionResponse",
        "type": "object"
      },
      "EntityListResponse": {
        "description": "Paginated list of entities.",
        "properties": {
          "entities": {
            "items": {
              "$ref": "#/components/schemas/EntitySummary"
            },
            "title": "Entities",
            "type": "array"
          },
          "limit": {
            "title": "Limit",
            "type": "integer"
          },
          "offset": {
            "title": "Offset",
            "type": "integer"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": ["entities", "total", "offset", "limit"],
        "title": "EntityListResponse",
        "type": "object"
      },
      "EntitySummary": {
        "description": "Summary of a knowledge graph entity.",
        "properties": {
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "labels": {
            "items": {
              "type": "string"
            },
            "title": "Labels",
            "type": "array"
          },
          "last_mentioned": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Mentioned"
          },
          "mention_count": {
            "title": "Mention Count",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "retrieval_quality": {
            "title": "Retrieval Quality",
            "type": "number"
          },
          "summary": {
            "title": "Summary",
            "type": "string"
          },
          "uuid": {
            "title": "Uuid",
            "type": "string"
          }
        },
        "required": [
          "uuid",
          "name",
          "labels",
          "summary",
          "mention_count",
          "retrieval_quality",
          "last_mentioned",
          "created_at"
        ],
        "title": "EntitySummary",
        "type": "object"
      },
      "ExecutionResponse": {
        "description": "Mission execution details response.",
        "properties": {
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "mission_id": {
            "title": "Mission Id",
            "type": "integer"
          },
          "output_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Summary"
          },
          "output_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Text"
          },
          "started_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "tool_count": {
            "title": "Tool Count",
            "type": "integer"
          },
          "trigger_type": {
            "title": "Trigger Type",
            "type": "string"
          },
          "triggered_by": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Triggered By"
          }
        },
        "required": [
          "id",
          "mission_id",
          "status",
          "trigger_type",
          "triggered_by",
          "started_at",
          "completed_at",
          "output_text",
          "output_summary",
          "tool_count",
          "error_message",
          "created_at"
        ],
        "title": "ExecutionResponse",
        "type": "object"
      },
      "FactRoleSummary": {
        "description": "Role binding for a fact node.",
        "properties": {
          "entity_name": {
            "title": "Entity Name",
            "type": "string"
          },
          "entity_uuid": {
            "title": "Entity Uuid",
            "type": "string"
          },
          "role": {
            "title": "Role",
            "type": "string"
          },
          "role_description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Role Description"
          }
        },
        "required": ["entity_uuid", "entity_name", "role"],
        "title": "FactRoleSummary",
        "type": "object"
      },
      "FactSearchResponse": {
        "description": "Search results for fact nodes.",
        "properties": {
          "facts": {
            "items": {
              "$ref": "#/components/schemas/FactSummary"
            },
            "title": "Facts",
            "type": "array"
          },
          "query": {
            "title": "Query",
            "type": "string"
          }
        },
        "required": ["facts", "query"],
        "title": "FactSearchResponse",
        "type": "object"
      },
      "FactSummary": {
        "description": "Summary of a hyper-edge fact node.",
        "properties": {
          "attributes": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Attributes"
          },
          "created_at": {
            "title": "Created At",
            "type": "string"
          },
          "fact": {
            "title": "Fact",
            "type": "string"
          },
          "invalid_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Invalid At"
          },
          "roles": {
            "items": {
              "$ref": "#/components/schemas/FactRoleSummary"
            },
            "title": "Roles",
            "type": "array"
          },
          "uuid": {
            "title": "Uuid",
            "type": "string"
          },
          "valid_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Valid At"
          }
        },
        "required": ["uuid", "fact", "roles", "valid_at", "invalid_at", "created_at"],
        "title": "FactSummary",
        "type": "object"
      },
      "FactsTimelineResponse": {
        "description": "Timeline of facts.",
        "properties": {
          "facts": {
            "items": {
              "$ref": "#/components/schemas/TimelineFact"
            },
            "title": "Facts",
            "type": "array"
          },
          "offset": {
            "title": "Offset",
            "type": "integer"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": ["facts", "total", "offset"],
        "title": "FactsTimelineResponse",
        "type": "object"
      },
      "FindOrCreateSessionRequest": {
        "properties": {
          "max_age_hours": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Age Hours"
          },
          "medium": {
            "default": "cli",
            "title": "Medium",
            "type": "string"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "working_dir": {
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": ["working_dir"],
        "title": "FindOrCreateSessionRequest",
        "type": "object"
      },
      "FindOrCreateSessionResponse": {
        "properties": {
          "claude_session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Claude Session Id"
          },
          "resumed": {
            "title": "Resumed",
            "type": "boolean"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          }
        },
        "required": ["session_id", "resumed", "claude_session_id"],
        "title": "FindOrCreateSessionResponse",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "HybridSearchRequest": {
        "properties": {
          "as_of": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "As Of"
          },
          "before": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Before"
          },
          "center_entity": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Center Entity"
          },
          "diversity": {
            "default": 0.5,
            "title": "Diversity",
            "type": "number"
          },
          "entity_values": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Entity Values",
            "type": "array"
          },
          "entity_weight": {
            "default": 0.6,
            "title": "Entity Weight",
            "type": "number"
          },
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          },
          "only_valid": {
            "default": false,
            "title": "Only Valid",
            "type": "boolean"
          },
          "query": {
            "title": "Query",
            "type": "string"
          },
          "rerank_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rerank Method"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "since": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Since"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "user_session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Session Id"
          }
        },
        "required": ["query"],
        "title": "HybridSearchRequest",
        "type": "object"
      },
      "KGStatsResponse": {
        "description": "Knowledge graph statistics.",
        "properties": {
          "label_distribution": {
            "additionalProperties": {
              "type": "integer"
            },
            "title": "Label Distribution",
            "type": "object"
          },
          "top_fact_entities": {
            "items": {
              "$ref": "#/components/schemas/TopFactEntity"
            },
            "title": "Top Fact Entities",
            "type": "array"
          },
          "top_fact_roles": {
            "items": {
              "$ref": "#/components/schemas/TopFactRole"
            },
            "title": "Top Fact Roles",
            "type": "array"
          },
          "top_mentioned": {
            "items": {
              "$ref": "#/components/schemas/TopEntity"
            },
            "title": "Top Mentioned",
            "type": "array"
          },
          "top_quality": {
            "items": {
              "$ref": "#/components/schemas/TopEntity"
            },
            "title": "Top Quality",
            "type": "array"
          },
          "total_communities": {
            "title": "Total Communities",
            "type": "integer"
          },
          "total_edges": {
            "title": "Total Edges",
            "type": "integer"
          },
          "total_entities": {
            "title": "Total Entities",
            "type": "integer"
          },
          "total_facts": {
            "title": "Total Facts",
            "type": "integer"
          }
        },
        "required": [
          "total_entities",
          "total_facts",
          "total_edges",
          "total_communities",
          "top_mentioned",
          "top_quality",
          "top_fact_roles",
          "top_fact_entities",
          "label_distribution"
        ],
        "title": "KGStatsResponse",
        "type": "object"
      },
      "LLMGenerateRequest": {
        "properties": {
          "include_context": {
            "default": false,
            "title": "Include Context",
            "type": "boolean"
          },
          "isolate_session": {
            "default": false,
            "title": "Isolate Session",
            "type": "boolean"
          },
          "medium": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medium"
          },
          "model": {
            "default": "claude-haiku-4-5",
            "title": "Model",
            "type": "string"
          },
          "prompt": {
            "title": "Prompt",
            "type": "string"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          }
        },
        "required": ["prompt"],
        "title": "LLMGenerateRequest",
        "type": "object"
      },
      "LabelsResponse": {
        "description": "Available entity labels.",
        "properties": {
          "labels": {
            "items": {
              "type": "string"
            },
            "title": "Labels",
            "type": "array"
          }
        },
        "required": ["labels"],
        "title": "LabelsResponse",
        "type": "object"
      },
      "ListPersonalitiesResponse": {
        "description": "Available personalities response.",
        "properties": {
          "personalities": {
            "items": {
              "type": "string"
            },
            "title": "Personalities",
            "type": "array"
          }
        },
        "required": ["personalities"],
        "title": "ListPersonalitiesResponse",
        "type": "object"
      },
      "ListPluginsResponse": {
        "description": "Available plugins response.",
        "properties": {
          "plugins": {
            "items": {
              "$ref": "#/components/schemas/PluginInfo"
            },
            "title": "Plugins",
            "type": "array"
          }
        },
        "required": ["plugins"],
        "title": "ListPluginsResponse",
        "type": "object"
      },
      "MergeRequest": {
        "description": "Request to merge agent branches.",
        "properties": {
          "strategy": {
            "default": "sequential",
            "description": "Merge strategy: 'sequential' (one by one) or 'squash'",
            "title": "Strategy",
            "type": "string"
          },
          "target_branch": {
            "default": "main",
            "description": "Branch to merge into",
            "title": "Target Branch",
            "type": "string"
          }
        },
        "title": "MergeRequest",
        "type": "object"
      },
      "MergeResult": {
        "description": "Result of branch merge operation.",
        "properties": {
          "conflicts": {
            "items": {
              "type": "string"
            },
            "title": "Conflicts",
            "type": "array"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "failed_branches": {
            "items": {
              "type": "string"
            },
            "title": "Failed Branches",
            "type": "array"
          },
          "merged_branches": {
            "items": {
              "type": "string"
            },
            "title": "Merged Branches",
            "type": "array"
          },
          "success": {
            "title": "Success",
            "type": "boolean"
          }
        },
        "required": ["success"],
        "title": "MergeResult",
        "type": "object"
      },
      "MessageHistoryResponse": {
        "description": "Paginated message history for a session.",
        "properties": {
          "has_more": {
            "title": "Has More",
            "type": "boolean"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ConversationMessage"
            },
            "title": "Messages",
            "type": "array"
          }
        },
        "required": ["messages", "has_more"],
        "title": "MessageHistoryResponse",
        "type": "object"
      },
      "MissionResponse": {
        "description": "Mission details response.",
        "properties": {
          "allowed_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Tools"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "cron_expression": {
            "title": "Cron Expression",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "last_execution_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Execution At"
          },
          "mcp_servers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Servers"
          },
          "model": {
            "title": "Model",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "natural_language_schedule": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Natural Language Schedule"
          },
          "next_execution_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Execution At"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality"
          },
          "plugins": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plugins"
          },
          "prompt": {
            "title": "Prompt",
            "type": "string"
          },
          "run_once": {
            "title": "Run Once",
            "type": "boolean"
          },
          "sandbox_mode": {
            "title": "Sandbox Mode",
            "type": "boolean"
          },
          "sandbox_mount_type": {
            "title": "Sandbox Mount Type",
            "type": "string"
          },
          "sandbox_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sandbox Settings"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "thinking_budget": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thinking Budget"
          },
          "timezone": {
            "title": "Timezone",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          },
          "working_dir": {
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "prompt",
          "cron_expression",
          "natural_language_schedule",
          "timezone",
          "status",
          "next_execution_at",
          "last_execution_at",
          "personality",
          "allowed_tools",
          "mcp_servers",
          "plugins",
          "thinking_budget",
          "model",
          "working_dir",
          "sandbox_mode",
          "sandbox_mount_type",
          "sandbox_settings",
          "run_once",
          "created_at",
          "updated_at"
        ],
        "title": "MissionResponse",
        "type": "object"
      },
      "ModelInfo": {
        "description": "Information about an available Claude model.",
        "properties": {
          "description": {
            "title": "Description",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["id", "name", "description"],
        "title": "ModelInfo",
        "type": "object"
      },
      "NotificationCreateRequest": {
        "properties": {
          "context_snapshot": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Snapshot"
          },
          "message": {
            "title": "Message",
            "type": "string"
          },
          "parent_notification_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Notification Id"
          },
          "priority": {
            "title": "Priority",
            "type": "string"
          },
          "routing_reasoning": {
            "title": "Routing Reasoning",
            "type": "string"
          },
          "target_location": {
            "title": "Target Location",
            "type": "string"
          },
          "target_medium": {
            "title": "Target Medium",
            "type": "string"
          },
          "trigger_data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trigger Data"
          },
          "trigger_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trigger Id"
          },
          "trigger_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trigger Type"
          },
          "user_id": {
            "title": "User Id",
            "type": "string"
          }
        },
        "required": [
          "user_id",
          "target_medium",
          "target_location",
          "message",
          "priority",
          "routing_reasoning"
        ],
        "title": "NotificationCreateRequest",
        "type": "object"
      },
      "NotificationFailedRequest": {
        "properties": {
          "error_message": {
            "title": "Error Message",
            "type": "string"
          },
          "notification_id": {
            "title": "Notification Id",
            "type": "integer"
          }
        },
        "required": ["notification_id", "error_message"],
        "title": "NotificationFailedRequest",
        "type": "object"
      },
      "NotificationQueryRequest": {
        "properties": {
          "since": {
            "title": "Since",
            "type": "string"
          },
          "user_id": {
            "title": "User Id",
            "type": "string"
          }
        },
        "required": ["user_id", "since"],
        "title": "NotificationQueryRequest",
        "type": "object"
      },
      "OCCAttitudeResponse": {
        "description": "OCC Attitude display model.",
        "properties": {
          "appealingness": {
            "title": "Appealingness",
            "type": "integer"
          },
          "description": {
            "title": "Description",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "target_object": {
            "title": "Target Object",
            "type": "string"
          }
        },
        "required": ["id", "target_object", "description", "appealingness"],
        "title": "OCCAttitudeResponse",
        "type": "object"
      },
      "OCCGoalResponse": {
        "description": "OCC Goal display model.",
        "properties": {
          "active": {
            "default": true,
            "title": "Active",
            "type": "boolean"
          },
          "description": {
            "title": "Description",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "importance": {
            "title": "Importance",
            "type": "integer"
          }
        },
        "required": ["id", "description", "importance"],
        "title": "OCCGoalResponse",
        "type": "object"
      },
      "OCCStandardResponse": {
        "description": "OCC Standard display model.",
        "properties": {
          "description": {
            "title": "Description",
            "type": "string"
          },
          "id": {
            "title": "Id",
            "type": "string"
          },
          "importance": {
            "title": "Importance",
            "type": "integer"
          }
        },
        "required": ["id", "description", "importance"],
        "title": "OCCStandardResponse",
        "type": "object"
      },
      "OutputStyleInfo": {
        "description": "Information about an available output style.",
        "properties": {
          "description": {
            "title": "Description",
            "type": "string"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["name", "description"],
        "title": "OutputStyleInfo",
        "type": "object"
      },
      "PersonalityInfo": {
        "description": "Information about an available personality.",
        "properties": {
          "color": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Color"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "icon": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Icon"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["name"],
        "title": "PersonalityInfo",
        "type": "object"
      },
      "PersonalitySaveRequest": {
        "description": "Request body for saving a personality.",
        "properties": {
          "display": {
            "additionalProperties": true,
            "default": {},
            "title": "Display",
            "type": "object"
          },
          "metadata": {
            "additionalProperties": true,
            "default": {},
            "title": "Metadata",
            "type": "object"
          },
          "prompt": {
            "additionalProperties": true,
            "default": {},
            "title": "Prompt",
            "type": "object"
          }
        },
        "title": "PersonalitySaveRequest",
        "type": "object"
      },
      "PluginInfo": {
        "description": "Plugin metadata.",
        "properties": {
          "description": {
            "title": "Description",
            "type": "string"
          },
          "has_mcp_servers": {
            "title": "Has Mcp Servers",
            "type": "boolean"
          },
          "mcp_servers": {
            "items": {
              "type": "string"
            },
            "title": "Mcp Servers",
            "type": "array"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "version": {
            "title": "Version",
            "type": "string"
          }
        },
        "required": ["name", "version", "description", "has_mcp_servers", "mcp_servers"],
        "title": "PluginInfo",
        "type": "object"
      },
      "PresenceHeartbeatRequest": {
        "properties": {
          "medium": {
            "title": "Medium",
            "type": "string"
          },
          "user_id": {
            "title": "User Id",
            "type": "string"
          }
        },
        "required": ["medium", "user_id"],
        "title": "PresenceHeartbeatRequest",
        "type": "object"
      },
      "PresenceRegisterRequest": {
        "properties": {
          "available_channels": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "title": "Available Channels",
            "type": "array"
          },
          "medium": {
            "title": "Medium",
            "type": "string"
          },
          "user_id": {
            "title": "User Id",
            "type": "string"
          }
        },
        "required": ["medium", "user_id", "available_channels"],
        "title": "PresenceRegisterRequest",
        "type": "object"
      },
      "PresenceUnregisterRequest": {
        "properties": {
          "medium": {
            "title": "Medium",
            "type": "string"
          },
          "user_id": {
            "title": "User Id",
            "type": "string"
          }
        },
        "required": ["medium", "user_id"],
        "title": "PresenceUnregisterRequest",
        "type": "object"
      },
      "QueueAddRequest": {
        "properties": {
          "content": {
            "title": "Content",
            "type": "string"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "model_name": {
            "title": "Model Name",
            "type": "string"
          },
          "priority": {
            "default": 5,
            "title": "Priority",
            "type": "integer"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "task_type": {
            "title": "Task Type",
            "type": "string"
          }
        },
        "required": ["task_type", "model_name", "content"],
        "title": "QueueAddRequest",
        "type": "object"
      },
      "RecallSearchResponse": {
        "description": "Recall search response.",
        "properties": {
          "query": {
            "title": "Query",
            "type": "string"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/RecallSearchResult"
            },
            "title": "Results",
            "type": "array"
          }
        },
        "required": ["query", "results"],
        "title": "RecallSearchResponse",
        "type": "object"
      },
      "RecallSearchResult": {
        "description": "Recall search result for a conversation block or exploration finding.",
        "properties": {
          "block_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Block Id"
          },
          "confidence": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confidence"
          },
          "conversation_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Conversation Id"
          },
          "finding_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Finding Id"
          },
          "medium": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medium"
          },
          "message_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message Type"
          },
          "result_id": {
            "title": "Result Id",
            "type": "string"
          },
          "result_type": {
            "enum": ["conversation", "exploration_finding"],
            "title": "Result Type",
            "type": "string"
          },
          "score": {
            "title": "Score",
            "type": "number"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id"
          },
          "text": {
            "title": "Text",
            "type": "string"
          },
          "timestamp": {
            "title": "Timestamp",
            "type": "integer"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": ["result_id", "result_type", "score", "text", "timestamp", "user_id"],
        "title": "RecallSearchResult",
        "type": "object"
      },
      "RecentDirectoriesResponse": {
        "description": "List of recently used working directories.",
        "properties": {
          "directories": {
            "items": {
              "type": "string"
            },
            "title": "Directories",
            "type": "array"
          }
        },
        "required": ["directories"],
        "title": "RecentDirectoriesResponse",
        "type": "object"
      },
      "ReleaseTaskRequest": {
        "description": "Request to release a task.",
        "properties": {
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "title": "ReleaseTaskRequest",
        "type": "object"
      },
      "RenameSessionRequest": {
        "description": "Request to rename a session.",
        "properties": {
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["name"],
        "title": "RenameSessionRequest",
        "type": "object"
      },
      "ResultingEmotion": {
        "description": "An emotion that resulted from appraisal.",
        "properties": {
          "intensity": {
            "title": "Intensity",
            "type": "number"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        },
        "required": ["type", "intensity"],
        "title": "ResultingEmotion",
        "type": "object"
      },
      "ResumeRequest": {
        "description": "Request to resume a failed swarm.",
        "properties": {
          "from_agents": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Specific agent names to re-run. If None, re-runs all failed agents.",
            "title": "From Agents"
          },
          "reset_failed": {
            "default": true,
            "description": "If True and from_agents is None, reset all failed/cancelled agents",
            "title": "Reset Failed",
            "type": "boolean"
          }
        },
        "title": "ResumeRequest",
        "type": "object"
      },
      "RoutingDecideRequest": {
        "properties": {
          "message": {
            "title": "Message",
            "type": "string"
          },
          "priority": {
            "title": "Priority",
            "type": "string"
          },
          "user_activity": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Activity"
          },
          "user_id": {
            "title": "User Id",
            "type": "string"
          }
        },
        "required": ["user_id", "message", "priority"],
        "title": "RoutingDecideRequest",
        "type": "object"
      },
      "ScratchpadEntry": {
        "description": "A scratchpad entry.",
        "properties": {
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "key": {
            "title": "Key",
            "type": "string"
          },
          "set_by_agent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Set By Agent Id"
          },
          "set_by_agent_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Set By Agent Name"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          },
          "value": {
            "title": "Value"
          }
        },
        "required": [
          "key",
          "value",
          "set_by_agent_id",
          "set_by_agent_name",
          "created_at",
          "updated_at"
        ],
        "title": "ScratchpadEntry",
        "type": "object"
      },
      "ScratchpadSetRequest": {
        "description": "Request to set a scratchpad value.",
        "properties": {
          "agent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Id"
          },
          "agent_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agent Name"
          },
          "value": {
            "title": "Value"
          }
        },
        "required": ["value"],
        "title": "ScratchpadSetRequest",
        "type": "object"
      },
      "SearchRequest": {
        "properties": {
          "limit": {
            "default": 10,
            "title": "Limit",
            "type": "integer"
          },
          "query": {
            "title": "Query",
            "type": "string"
          },
          "threshold": {
            "default": 0.7,
            "title": "Threshold",
            "type": "number"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "required": ["query"],
        "title": "SearchRequest",
        "type": "object"
      },
      "SearchResultsResponse": {
        "description": "Search results with entities and edges.",
        "properties": {
          "edges": {
            "items": {
              "$ref": "#/components/schemas/EdgeSummary"
            },
            "title": "Edges",
            "type": "array"
          },
          "entities": {
            "items": {
              "$ref": "#/components/schemas/EntitySummary"
            },
            "title": "Entities",
            "type": "array"
          },
          "facts": {
            "items": {
              "$ref": "#/components/schemas/FactSummary"
            },
            "title": "Facts",
            "type": "array"
          },
          "query": {
            "title": "Query",
            "type": "string"
          }
        },
        "required": ["entities", "edges", "facts", "query"],
        "title": "SearchResultsResponse",
        "type": "object"
      },
      "SessionConfig": {
        "description": "Configuration for an agent session.",
        "properties": {
          "allowed_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Tool restrictions (None = default)",
            "title": "Allowed Tools"
          },
          "auto_approve": {
            "default": false,
            "description": "Auto-approve all tool permissions (for autonomous missions)",
            "title": "Auto Approve",
            "type": "boolean"
          },
          "enable_streaming": {
            "default": false,
            "description": "Enable token-level streaming (dere_ui only)",
            "title": "Enable Streaming",
            "type": "boolean"
          },
          "env": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Additional environment variables to pass to the agent process",
            "title": "Env"
          },
          "include_context": {
            "default": true,
            "description": "Whether to inject emotion/KG context",
            "title": "Include Context",
            "type": "boolean"
          },
          "lean_mode": {
            "default": false,
            "description": "Lean mode: skip emotion/KG context injection for swarm agents",
            "title": "Lean Mode",
            "type": "boolean"
          },
          "mission_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Mission ID if spawned by a mission",
            "title": "Mission Id"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Claude model to use (e.g., claude-sonnet-4-20250514)",
            "title": "Model"
          },
          "output_format": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Structured output format for Claude Agent SDK (e.g., {'type': 'json_schema', 'schema': {...}}).",
            "title": "Output Format"
          },
          "output_style": {
            "default": "default",
            "description": "Claude output style preset",
            "title": "Output Style",
            "type": "string"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              }
            ],
            "default": "",
            "description": "Personality preset name(s)",
            "title": "Personality"
          },
          "plugins": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Explicit plugin list (None = auto-detect based on working_dir)",
            "title": "Plugins"
          },
          "sandbox_mode": {
            "default": false,
            "description": "Run in Docker sandbox for isolation",
            "title": "Sandbox Mode",
            "type": "boolean"
          },
          "sandbox_mount_type": {
            "default": "copy",
            "description": "How to mount working directory: direct (rw), copy (temp), none (empty)",
            "enum": ["direct", "copy", "none"],
            "title": "Sandbox Mount Type",
            "type": "string"
          },
          "sandbox_network_mode": {
            "default": "bridge",
            "description": "Docker network mode: bridge (isolated) or host (shares host network)",
            "enum": ["bridge", "host"],
            "title": "Sandbox Network Mode",
            "type": "string"
          },
          "sandbox_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Anthropic SandboxSettings for command sandboxing/network plumbing. Filesystem/network access is still governed by permission rules.",
            "title": "Sandbox Settings"
          },
          "session_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "Optional session name (e.g., mission name)",
            "title": "Session Name"
          },
          "swarm_agent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "SwarmAgent ID if spawned by swarm system",
            "title": "Swarm Agent Id"
          },
          "thinking_budget": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "description": "Extended thinking token budget (None = disabled, e.g. 10000 for moderate thinking)",
            "title": "Thinking Budget"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "description": "User identifier",
            "title": "User Id"
          },
          "working_dir": {
            "description": "Project/working directory",
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": ["working_dir"],
        "title": "SessionConfig",
        "type": "object"
      },
      "SessionListResponse": {
        "description": "List of active sessions.",
        "properties": {
          "sessions": {
            "items": {
              "$ref": "#/components/schemas/SessionResponse"
            },
            "title": "Sessions",
            "type": "array"
          }
        },
        "required": ["sessions"],
        "title": "SessionListResponse",
        "type": "object"
      },
      "SessionResponse": {
        "description": "Response with session information.",
        "properties": {
          "claude_session_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Claude Session Id"
          },
          "config": {
            "$ref": "#/components/schemas/SessionConfig"
          },
          "is_locked": {
            "default": false,
            "title": "Is Locked",
            "type": "boolean"
          },
          "mission_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mission Id"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "sandbox_mode": {
            "default": false,
            "title": "Sandbox Mode",
            "type": "boolean"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          }
        },
        "required": ["session_id", "config"],
        "title": "SessionResponse",
        "type": "object"
      },
      "SessionStartContextRequest": {
        "properties": {
          "medium": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medium"
          },
          "session_id": {
            "title": "Session Id",
            "type": "integer"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "working_dir": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Working Dir"
          }
        },
        "required": ["session_id"],
        "title": "SessionStartContextRequest",
        "type": "object"
      },
      "StatusRequest": {
        "properties": {
          "context": {
            "default": false,
            "title": "Context",
            "type": "boolean"
          },
          "mcp_servers": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Mcp Servers",
            "type": "array"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality"
          },
          "session_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Type"
          }
        },
        "title": "StatusRequest",
        "type": "object"
      },
      "StoreMessageRequest": {
        "properties": {
          "message": {
            "title": "Message",
            "type": "string"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality"
          },
          "role": {
            "default": "user",
            "title": "Role",
            "type": "string"
          }
        },
        "required": ["message"],
        "title": "StoreMessageRequest",
        "type": "object"
      },
      "StoreMessageResponse": {
        "properties": {
          "message_id": {
            "title": "Message Id",
            "type": "integer"
          }
        },
        "required": ["message_id"],
        "title": "StoreMessageResponse",
        "type": "object"
      },
      "SummaryContextResponse": {
        "properties": {
          "created_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At"
          },
          "session_ids": {
            "default": [],
            "items": {
              "type": "integer"
            },
            "title": "Session Ids",
            "type": "array"
          },
          "summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Summary"
          }
        },
        "title": "SummaryContextResponse",
        "type": "object"
      },
      "SurfaceFindingRequest": {
        "properties": {
          "finding_id": {
            "title": "Finding Id",
            "type": "integer"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "surfaced_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Surfaced At"
          }
        },
        "required": ["finding_id"],
        "title": "SurfaceFindingRequest",
        "type": "object"
      },
      "SurfaceQueueRequest": {
        "properties": {
          "limit": {
            "default": 1,
            "title": "Limit",
            "type": "integer"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          }
        },
        "title": "SurfaceQueueRequest",
        "type": "object"
      },
      "SwarmAgentMode": {
        "enum": ["assigned", "autonomous"],
        "title": "SwarmAgentMode",
        "type": "string"
      },
      "SwarmAgentRole": {
        "enum": ["implementation", "review", "research", "generic", "synthesis", "supervisor"],
        "title": "SwarmAgentRole",
        "type": "string"
      },
      "SwarmListResponse": {
        "description": "Swarm list item.",
        "properties": {
          "agent_count": {
            "title": "Agent Count",
            "type": "integer"
          },
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "started_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "status": {
            "title": "Status",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "status",
          "agent_count",
          "created_at",
          "started_at",
          "completed_at"
        ],
        "title": "SwarmListResponse",
        "type": "object"
      },
      "SwarmStatus": {
        "enum": ["pending", "running", "completed", "failed", "cancelled", "skipped"],
        "title": "SwarmStatus",
        "type": "string"
      },
      "SwarmStatusResponse": {
        "description": "Full swarm status response.",
        "properties": {
          "agents": {
            "items": {
              "$ref": "#/components/schemas/AgentResult"
            },
            "title": "Agents",
            "type": "array"
          },
          "auto_synthesize": {
            "default": false,
            "title": "Auto Synthesize",
            "type": "boolean"
          },
          "base_branch": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Base Branch"
          },
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "critical_path": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Agent names on the critical path (longest dependency chain)",
            "title": "Critical Path"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "git_branch_prefix": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Git Branch Prefix"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "started_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "status": {
            "$ref": "#/components/schemas/SwarmStatus"
          },
          "swarm_id": {
            "title": "Swarm Id",
            "type": "integer"
          },
          "synthesis_output": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Synthesis Output"
          },
          "synthesis_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Synthesis Summary"
          },
          "working_dir": {
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": ["swarm_id", "name", "status", "working_dir", "agents", "created_at"],
        "title": "SwarmStatusResponse",
        "type": "object"
      },
      "Task": {
        "description": "Taskwarrior task model.",
        "properties": {
          "description": {
            "title": "Description",
            "type": "string"
          },
          "due": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Due"
          },
          "end": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "End"
          },
          "entry": {
            "title": "Entry",
            "type": "string"
          },
          "modified": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Modified"
          },
          "project": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Project"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "tags": {
            "default": [],
            "items": {
              "type": "string"
            },
            "title": "Tags",
            "type": "array"
          },
          "urgency": {
            "default": 0.0,
            "title": "Urgency",
            "type": "number"
          },
          "uuid": {
            "title": "Uuid",
            "type": "string"
          }
        },
        "required": ["uuid", "description", "status", "entry"],
        "title": "Task",
        "type": "object"
      },
      "TaskListResponse": {
        "description": "Task list response.",
        "properties": {
          "tasks": {
            "items": {
              "$ref": "#/components/schemas/TaskResponse"
            },
            "title": "Tasks",
            "type": "array"
          },
          "total": {
            "title": "Total",
            "type": "integer"
          }
        },
        "required": ["tasks", "total"],
        "title": "TaskListResponse",
        "type": "object"
      },
      "TaskResponse": {
        "description": "Task details response.",
        "properties": {
          "acceptance_criteria": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Acceptance Criteria"
          },
          "attempt_count": {
            "title": "Attempt Count",
            "type": "integer"
          },
          "blocked_by": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Blocked By"
          },
          "claimed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Claimed At"
          },
          "claimed_by_agent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Claimed By Agent Id"
          },
          "claimed_by_session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Claimed By Session Id"
          },
          "completed_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completed At"
          },
          "completion_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completion Notes"
          },
          "context_summary": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Summary"
          },
          "created_at": {
            "format": "date-time",
            "title": "Created At",
            "type": "string"
          },
          "created_by_agent_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By Agent Id"
          },
          "created_by_session_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created By Session Id"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "discovered_from_task_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discovered From Task Id"
          },
          "discovery_reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discovery Reason"
          },
          "estimated_effort": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Estimated Effort"
          },
          "extra": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extra"
          },
          "files_changed": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Files Changed"
          },
          "follow_up_task_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Follow Up Task Ids"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error"
          },
          "outcome": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Outcome"
          },
          "priority": {
            "title": "Priority",
            "type": "integer"
          },
          "related_task_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Task Ids"
          },
          "required_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Required Tools"
          },
          "scope_paths": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scope Paths"
          },
          "started_at": {
            "anyOf": [
              {
                "format": "date-time",
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Started At"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "task_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Type"
          },
          "title": {
            "title": "Title",
            "type": "string"
          },
          "updated_at": {
            "format": "date-time",
            "title": "Updated At",
            "type": "string"
          },
          "working_dir": {
            "title": "Working Dir",
            "type": "string"
          }
        },
        "required": [
          "id",
          "working_dir",
          "title",
          "description",
          "acceptance_criteria",
          "context_summary",
          "scope_paths",
          "required_tools",
          "task_type",
          "tags",
          "estimated_effort",
          "priority",
          "status",
          "claimed_by_session_id",
          "claimed_by_agent_id",
          "claimed_at",
          "attempt_count",
          "blocked_by",
          "related_task_ids",
          "created_by_session_id",
          "created_by_agent_id",
          "discovered_from_task_id",
          "discovery_reason",
          "outcome",
          "completion_notes",
          "files_changed",
          "follow_up_task_ids",
          "last_error",
          "extra",
          "created_at",
          "updated_at",
          "started_at",
          "completed_at"
        ],
        "title": "TaskResponse",
        "type": "object"
      },
      "TasksResponse": {
        "description": "Response containing task list and counts.",
        "properties": {
          "completed_count": {
            "title": "Completed Count",
            "type": "integer"
          },
          "pending_count": {
            "title": "Pending Count",
            "type": "integer"
          },
          "tasks": {
            "items": {
              "$ref": "#/components/schemas/Task"
            },
            "title": "Tasks",
            "type": "array"
          }
        },
        "required": ["tasks", "pending_count", "completed_count"],
        "title": "TasksResponse",
        "type": "object"
      },
      "TimelineFact": {
        "description": "A timeline entry for edges or hyper-edge facts.",
        "properties": {
          "edge": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/EdgeSummary"
              },
              {
                "type": "null"
              }
            ]
          },
          "fact": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/FactSummary"
              },
              {
                "type": "null"
              }
            ]
          },
          "kind": {
            "title": "Kind",
            "type": "string"
          },
          "temporal_status": {
            "title": "Temporal Status",
            "type": "string"
          }
        },
        "required": ["kind", "temporal_status"],
        "title": "TimelineFact",
        "type": "object"
      },
      "ToolResultData": {
        "description": "Tool result in a message.",
        "properties": {
          "is_error": {
            "default": false,
            "title": "Is Error",
            "type": "boolean"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "output": {
            "title": "Output",
            "type": "string"
          },
          "tool_use_id": {
            "title": "Tool Use Id",
            "type": "string"
          }
        },
        "required": ["tool_use_id", "name", "output"],
        "title": "ToolResultData",
        "type": "object"
      },
      "ToolUseData": {
        "description": "Tool use in a message.",
        "properties": {
          "id": {
            "title": "Id",
            "type": "string"
          },
          "input": {
            "additionalProperties": true,
            "title": "Input",
            "type": "object"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": ["id", "name"],
        "title": "ToolUseData",
        "type": "object"
      },
      "TopEntity": {
        "description": "Entity with ranking metrics.",
        "properties": {
          "labels": {
            "items": {
              "type": "string"
            },
            "title": "Labels",
            "type": "array"
          },
          "mention_count": {
            "title": "Mention Count",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "retrieval_quality": {
            "title": "Retrieval Quality",
            "type": "number"
          },
          "uuid": {
            "title": "Uuid",
            "type": "string"
          }
        },
        "required": ["uuid", "name", "labels", "mention_count", "retrieval_quality"],
        "title": "TopEntity",
        "type": "object"
      },
      "TopFactEntity": {
        "description": "Entity summary for fact stats.",
        "properties": {
          "count": {
            "title": "Count",
            "type": "integer"
          },
          "labels": {
            "items": {
              "type": "string"
            },
            "title": "Labels",
            "type": "array"
          },
          "name": {
            "title": "Name",
            "type": "string"
          },
          "uuid": {
            "title": "Uuid",
            "type": "string"
          }
        },
        "required": ["uuid", "name", "labels", "count"],
        "title": "TopFactEntity",
        "type": "object"
      },
      "TopFactRole": {
        "description": "Role summary for fact stats.",
        "properties": {
          "count": {
            "title": "Count",
            "type": "integer"
          },
          "role": {
            "title": "Role",
            "type": "string"
          }
        },
        "required": ["role", "count"],
        "title": "TopFactRole",
        "type": "object"
      },
      "UpdateMissionRequest": {
        "description": "Request to update a mission.",
        "properties": {
          "allowed_tools": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allowed Tools"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "mcp_servers": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mcp Servers"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "personality": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personality"
          },
          "plugins": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plugins"
          },
          "prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Prompt"
          },
          "run_once": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Once"
          },
          "sandbox_mode": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sandbox Mode"
          },
          "sandbox_mount_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sandbox Mount Type"
          },
          "sandbox_settings": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sandbox Settings"
          },
          "schedule": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Schedule"
          },
          "thinking_budget": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thinking Budget"
          },
          "working_dir": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Working Dir"
          }
        },
        "title": "UpdateMissionRequest",
        "type": "object"
      },
      "UpdateTaskRequest": {
        "description": "Request to update a task.",
        "properties": {
          "completion_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Completion Notes"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "files_changed": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Files Changed"
          },
          "last_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Error"
          },
          "outcome": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Outcome"
          },
          "priority": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Priority"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags"
          },
          "title": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          }
        },
        "title": "UpdateTaskRequest",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": ["loc", "msg", "type"],
        "title": "ValidationError",
        "type": "object"
      },
      "WaitRequest": {
        "description": "Request to wait for agents to complete.",
        "properties": {
          "agent_names": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "description": "Specific agents to wait for (None = all)",
            "title": "Agent Names"
          },
          "timeout_seconds": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "description": "Max time to wait (None = wait indefinitely)",
            "title": "Timeout Seconds"
          }
        },
        "title": "WaitRequest",
        "type": "object"
      }
    }
  },
  "info": {
    "title": "Dere Daemon",
    "version": "0.1.0"
  },
  "openapi": "3.1.0",
  "paths": {
    "/activity/state": {
      "get": {
        "description": "Get current ActivityWatch state.\n\nArgs:\n    t: Lookback minutes (alias for minutes)\n    minutes: Lookback minutes\n    top: Top-N apps/titles to return\n    recency_seconds: Recency window for \"current\" determination",
        "operationId": "activity_state_activity_state_get",
        "parameters": [
          {
            "in": "query",
            "name": "t",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "T"
            }
          },
          {
            "in": "query",
            "name": "minutes",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Minutes"
            }
          },
          {
            "in": "query",
            "name": "top",
            "required": false,
            "schema": {
              "default": 5,
              "title": "Top",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "recency_seconds",
            "required": false,
            "schema": {
              "default": 120,
              "title": "Recency Seconds",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "include_recent",
            "required": false,
            "schema": {
              "default": false,
              "title": "Include Recent",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "recent_limit",
            "required": false,
            "schema": {
              "default": 5,
              "title": "Recent Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActivityStateResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Activity State",
        "tags": ["activity"]
      }
    },
    "/agent/models": {
      "get": {
        "description": "List available Claude models.",
        "operationId": "list_models_agent_models_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailableModelsResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Models",
        "tags": ["agent"]
      }
    },
    "/agent/output-styles": {
      "get": {
        "description": "List available output styles.\n\nOutput styles from plugins need the plugin prefix (e.g., dere-core:discord).",
        "operationId": "list_output_styles_agent_output_styles_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailableOutputStylesResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Output Styles",
        "tags": ["agent"]
      }
    },
    "/agent/personalities": {
      "get": {
        "description": "List available personalities.",
        "operationId": "list_personalities_agent_personalities_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvailablePersonalitiesResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Personalities",
        "tags": ["agent"]
      }
    },
    "/agent/recent-directories": {
      "get": {
        "description": "List recently used working directories from session history.",
        "operationId": "list_recent_directories_agent_recent_directories_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecentDirectoriesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Recent Directories",
        "tags": ["agent"]
      }
    },
    "/agent/sessions": {
      "get": {
        "description": "List all sessions from the database.",
        "operationId": "list_sessions_agent_sessions_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionListResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Sessions",
        "tags": ["agent"]
      },
      "post": {
        "description": "Create a new agent session.",
        "operationId": "create_session_agent_sessions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionConfig"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Session",
        "tags": ["agent"]
      }
    },
    "/agent/sessions/{session_id}": {
      "delete": {
        "description": "Close and delete a session from both memory and database.",
        "operationId": "delete_session_agent_sessions__session_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Session",
        "tags": ["agent"]
      },
      "get": {
        "description": "Get session details.",
        "operationId": "get_session_agent_sessions__session_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Session",
        "tags": ["agent"]
      },
      "patch": {
        "description": "Update session configuration.",
        "operationId": "update_session_agent_sessions__session_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionConfig"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Session",
        "tags": ["agent"]
      }
    },
    "/agent/sessions/{session_id}/generate-name": {
      "post": {
        "description": "Generate a short descriptive name for a session using Haiku 4.5.\n\nFetches the first user message and assistant response from JSONL (or in-memory\nfor sandbox sessions), then calls Haiku to generate a 2-4 word title.",
        "operationId": "generate_session_name_agent_sessions__session_id__generate_name_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Generate Session Name",
        "tags": ["agent"]
      }
    },
    "/agent/sessions/{session_id}/messages": {
      "get": {
        "description": "Get message history for a session.\n\nPrefers DB-backed history (conversations + conversation_blocks) when available\nto avoid JSONL parsing and to preserve metrics/identity on refresh. Falls back\nto Claude Code's JSONL storage for older sessions.",
        "operationId": "get_session_messages_agent_sessions__session_id__messages_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageHistoryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Session Messages",
        "tags": ["agent"]
      }
    },
    "/agent/sessions/{session_id}/metrics": {
      "get": {
        "description": "Get per-message metrics from the DB for UI overlay.",
        "operationId": "get_session_metrics_agent_sessions__session_id__metrics_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 300,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Session Metrics",
        "tags": ["agent"]
      }
    },
    "/agent/sessions/{session_id}/name": {
      "patch": {
        "description": "Rename a session.",
        "operationId": "rename_session_agent_sessions__session_id__name_patch",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenameSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Rename Session",
        "tags": ["agent"]
      }
    },
    "/ambient/dashboard": {
      "get": {
        "operationId": "ambient_dashboard_ambient_dashboard_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit_runs",
            "required": false,
            "schema": {
              "default": 8,
              "title": "Limit Runs",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit_notifications",
            "required": false,
            "schema": {
              "default": 8,
              "title": "Limit Notifications",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AmbientDashboardResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Ambient Dashboard",
        "tags": ["ambient"]
      }
    },
    "/api/consolidate/memory": {
      "post": {
        "description": "Trigger memory consolidation for a user.\n\nAnalyzes entity patterns, generates LLM summary, stores insights.\n\nArgs:\n    user_id: Optional user ID partition (defaults to global graph)\n    recency_days: Number of days to look back\n    model: Model to use for summary generation\n\nReturns:\n    Consolidation summary and statistics",
        "operationId": "consolidate_memory_api_consolidate_memory_post",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "recency_days",
            "required": false,
            "schema": {
              "default": 30,
              "title": "Recency Days",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "model",
            "required": false,
            "schema": {
              "default": "gemma3n:latest",
              "title": "Model",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "update_core_memory",
            "required": false,
            "schema": {
              "default": false,
              "title": "Update Core Memory",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Consolidate Memory"
      }
    },
    "/auth/reset": {
      "post": {
        "description": "Reset auth failure state after user re-authenticates.",
        "operationId": "reset_auth_auth_reset_post",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Reset Auth"
      }
    },
    "/config": {
      "get": {
        "description": "Get current configuration.",
        "operationId": "get_config_config_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Config"
      },
      "put": {
        "description": "Update configuration and persist to config file.\n\nDeep-merges the provided updates with existing config,\nvalidates, and saves to ~/.config/dere/config.toml.",
        "operationId": "update_config_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "title": "Updates",
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Config"
      }
    },
    "/config/schema": {
      "get": {
        "description": "Get configuration JSON schema with UI metadata.\n\nReturns the full JSON Schema for DereConfig including\nfield titles, descriptions, types, and UI hints like\nui_type, ui_group, ui_order, and options for select fields.",
        "operationId": "get_config_schema_endpoint_config_schema_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Config Schema Endpoint"
      }
    },
    "/context": {
      "get": {
        "description": "Get full context string for hook injection.",
        "operationId": "context_full_context_get",
        "parameters": [
          {
            "in": "query",
            "name": "session_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Context Full",
        "tags": ["context"]
      }
    },
    "/context/build": {
      "post": {
        "description": "Build context using knowledge graph search",
        "operationId": "context_build_context_build_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContextBuildRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Context Build",
        "tags": ["context"]
      }
    },
    "/context/build_session_start": {
      "post": {
        "description": "Build session-start context based on session type.\n\nFor code sessions: Recent work in project + git commits (if .git exists)\nFor conversational sessions: Recent discussions and entities\n\nCaches result to avoid re-querying on subsequent prompts.",
        "operationId": "context_build_session_start_context_build_session_start_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SessionStartContextRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Context Build Session Start",
        "tags": ["context"]
      }
    },
    "/context/get": {
      "post": {
        "description": "Get cached context for session (body)",
        "operationId": "context_get_context_get_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContextGetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Context Get",
        "tags": ["context"]
      }
    },
    "/conversation/capture": {
      "post": {
        "description": "Capture conversation and queue background tasks",
        "operationId": "conversation_capture_conversation_capture_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversationCaptureRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Conversation Capture"
      }
    },
    "/conversations/last_dm/{user_id}": {
      "get": {
        "description": "Get the last message exchanged in Discord DMs with this user.\n\nUsed by ambient monitor to provide conversation continuity context.",
        "operationId": "get_last_dm_message_conversations_last_dm__user_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "user_id",
            "required": true,
            "schema": {
              "title": "User Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Last Dm Message"
      }
    },
    "/dashboard/state": {
      "get": {
        "description": "Get aggregated dashboard state for the UI.",
        "operationId": "get_dashboard_state_dashboard_state_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardState"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Dashboard State",
        "tags": ["dashboard"]
      }
    },
    "/embeddings/generate": {
      "post": {
        "description": "Generate embedding for text using dere_graph",
        "operationId": "generate_embedding_embeddings_generate_post",
        "parameters": [
          {
            "in": "query",
            "name": "text",
            "required": true,
            "schema": {
              "title": "Text",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Generate Embedding"
      }
    },
    "/emotion/history": {
      "get": {
        "description": "Get emotion stimulus history from in-memory buffer (last hour).",
        "operationId": "emotion_get_history_emotion_history_get",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmotionHistoryResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Emotion Get History",
        "tags": ["emotions"]
      }
    },
    "/emotion/history/db": {
      "get": {
        "description": "Get emotion stimulus history from database with time range.\n\nArgs:\n    start_time: Start timestamp in ms (default: 24 hours ago)\n    end_time: End timestamp in ms (default: now)\n    limit: Max events to return (default: 500)",
        "operationId": "emotion_get_history_db_emotion_history_db_get",
        "parameters": [
          {
            "in": "query",
            "name": "start_time",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Time"
            }
          },
          {
            "in": "query",
            "name": "end_time",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Time"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 500,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmotionHistoryDBResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Emotion Get History Db",
        "tags": ["emotions"]
      }
    },
    "/emotion/profile": {
      "get": {
        "description": "Get user's OCC psychological profile.",
        "operationId": "emotion_get_profile_emotion_profile_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmotionProfileResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Emotion Get Profile",
        "tags": ["emotions"]
      }
    },
    "/emotion/state": {
      "get": {
        "description": "Get current global emotional state.",
        "operationId": "emotion_get_state_emotion_state_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Emotion Get State",
        "tags": ["emotions"]
      }
    },
    "/emotion/summary": {
      "get": {
        "description": "Get human-readable emotion summary for prompt injection.",
        "operationId": "emotion_get_summary_emotion_summary_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Emotion Get Summary",
        "tags": ["emotions"]
      }
    },
    "/exploration/queue": {
      "post": {
        "description": "Return shareable findings to surface at natural touchpoints.",
        "operationId": "get_shareable_findings_exploration_queue_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SurfaceQueueRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Shareable Findings",
        "tags": ["exploration"]
      }
    },
    "/health": {
      "get": {
        "description": "Health check endpoint",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Health Check"
      }
    },
    "/kg/communities": {
      "get": {
        "description": "List entity communities/clusters.",
        "operationId": "list_communities_kg_communities_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunitiesResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Communities",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/entities": {
      "get": {
        "description": "List entities with filtering and pagination.",
        "operationId": "list_entities_kg_entities_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "labels",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Labels"
            }
          },
          {
            "in": "query",
            "name": "sort_by",
            "required": false,
            "schema": {
              "default": "mention_count",
              "title": "Sort By",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "sort_order",
            "required": false,
            "schema": {
              "default": "desc",
              "title": "Sort Order",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EntityListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Entities",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/entity/{entity_name}": {
      "get": {
        "description": "Get information about an entity from the knowledge graph",
        "operationId": "get_entity_info_kg_entity__entity_name__get",
        "parameters": [
          {
            "in": "path",
            "name": "entity_name",
            "required": true,
            "schema": {
              "title": "Entity Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Entity Info",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/entity/{entity_name}/related": {
      "get": {
        "description": "Get entities related to the given entity via knowledge graph",
        "operationId": "get_related_entities_kg_entity__entity_name__related_get",
        "parameters": [
          {
            "in": "path",
            "name": "entity_name",
            "required": true,
            "schema": {
              "title": "Entity Name",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Related Entities",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/facts/archival": {
      "post": {
        "description": "Insert a fact node for archival memory.",
        "operationId": "insert_archival_fact_kg_facts_archival_post",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ArchivalFactInsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ArchivalFactInsertResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Insert Archival Fact",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/facts/at_time": {
      "get": {
        "description": "Get facts valid at a specific time.",
        "operationId": "facts_at_time_kg_facts_at_time_get",
        "parameters": [
          {
            "in": "query",
            "name": "timestamp",
            "required": true,
            "schema": {
              "format": "date-time",
              "title": "Timestamp",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "include_roles",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Roles",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Facts At Time",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/facts/search": {
      "get": {
        "description": "Search fact nodes only.",
        "operationId": "search_facts_kg_facts_search_get",
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "title": "Query",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "include_roles",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Roles",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "include_expired",
            "required": false,
            "schema": {
              "default": false,
              "title": "Include Expired",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "start_date",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "in": "query",
            "name": "end_date",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "in": "query",
            "name": "archival_only",
            "required": false,
            "schema": {
              "default": false,
              "title": "Archival Only",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Facts",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/facts/timeline": {
      "get": {
        "description": "Get chronological timeline of facts/edges.",
        "operationId": "get_facts_timeline_kg_facts_timeline_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "start_date",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "in": "query",
            "name": "end_date",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "format": "date-time",
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "in": "query",
            "name": "entity_uuid",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Entity Uuid"
            }
          },
          {
            "in": "query",
            "name": "include_facts",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Facts",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "include_fact_roles",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Fact Roles",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 100,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FactsTimelineResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Facts Timeline",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/labels": {
      "get": {
        "description": "Get all unique entity labels for filtering.",
        "operationId": "get_entity_labels_kg_labels_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LabelsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Entity Labels",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/search": {
      "get": {
        "description": "Search knowledge graph with context (entities and their relationships).",
        "operationId": "search_knowledge_kg_search_get",
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "title": "Query",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "include_edges",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Edges",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "include_facts",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Facts",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "include_fact_roles",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Fact Roles",
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "rerank_method",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Rerank Method"
            }
          },
          {
            "in": "query",
            "name": "labels",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Labels"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResultsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Knowledge",
        "tags": ["knowledge_graph"]
      }
    },
    "/kg/stats": {
      "get": {
        "description": "Get knowledge graph statistics.",
        "operationId": "get_kg_stats_kg_stats_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KGStatsResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Kg Stats",
        "tags": ["knowledge_graph"]
      }
    },
    "/llm/generate": {
      "post": {
        "description": "Generate LLM response with optional personality/emotion context using Claude CLI.",
        "operationId": "llm_generate_llm_generate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LLMGenerateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Llm Generate"
      }
    },
    "/memory/consolidation/runs": {
      "get": {
        "description": "List recent memory consolidation runs.",
        "operationId": "list_consolidation_runs_memory_consolidation_runs_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConsolidationRunListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Consolidation Runs",
        "tags": ["core_memory"]
      }
    },
    "/memory/core": {
      "get": {
        "description": "List core memory blocks for a session or user.",
        "operationId": "list_core_memory_memory_core_get",
        "parameters": [
          {
            "in": "query",
            "name": "session_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/CoreMemoryBlockResponse"
                  },
                  "title": "Response List Core Memory Memory Core Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Core Memory",
        "tags": ["core_memory"]
      }
    },
    "/memory/core/edit": {
      "post": {
        "description": "Create or update a core memory block.",
        "operationId": "edit_core_memory_memory_core_edit_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoreMemoryEditRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoreMemoryEditResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Edit Core Memory",
        "tags": ["core_memory"]
      }
    },
    "/memory/core/history": {
      "get": {
        "description": "Return version history for a core memory block.",
        "operationId": "core_memory_history_memory_core_history_get",
        "parameters": [
          {
            "in": "query",
            "name": "block_type",
            "required": true,
            "schema": {
              "enum": ["persona", "human", "task"],
              "title": "Block Type",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 20,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "scope",
            "required": false,
            "schema": {
              "default": "user",
              "enum": ["user", "session"],
              "title": "Scope",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "session_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/CoreMemoryHistoryResponse"
                  },
                  "title": "Response Core Memory History Memory Core History Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Core Memory History",
        "tags": ["core_memory"]
      }
    },
    "/memory/core/rollback": {
      "post": {
        "description": "Rollback a core memory block to a previous version.",
        "operationId": "core_memory_rollback_memory_core_rollback_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoreMemoryRollbackRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoreMemoryRollbackResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Core Memory Rollback",
        "tags": ["core_memory"]
      }
    },
    "/metrics/exploration": {
      "get": {
        "description": "Summary metrics for ambient exploration.",
        "operationId": "exploration_metrics_metrics_exploration_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          },
          {
            "in": "query",
            "name": "days_back",
            "required": false,
            "schema": {
              "default": 30,
              "title": "Days Back",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Exploration Metrics",
        "tags": ["metrics"]
      }
    },
    "/missions": {
      "get": {
        "description": "List all missions, optionally filtered by status.",
        "operationId": "list_missions_missions_get",
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/MissionResponse"
                  },
                  "title": "Response List Missions Missions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Missions",
        "tags": ["missions"]
      },
      "post": {
        "description": "Create a new mission.\n\nAccepts either a cron expression or natural language schedule.",
        "operationId": "create_mission_missions_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMissionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MissionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Mission",
        "tags": ["missions"]
      }
    },
    "/missions/{mission_id}": {
      "delete": {
        "description": "Delete a mission and its execution history.",
        "operationId": "delete_mission_missions__mission_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Mission",
        "tags": ["missions"]
      },
      "get": {
        "description": "Get mission details.",
        "operationId": "get_mission_missions__mission_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MissionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Mission",
        "tags": ["missions"]
      },
      "patch": {
        "description": "Update a mission.",
        "operationId": "update_mission_missions__mission_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMissionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MissionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Mission",
        "tags": ["missions"]
      }
    },
    "/missions/{mission_id}/execute": {
      "post": {
        "description": "Manually trigger a mission execution.\n\nThe execution runs asynchronously; use GET /missions/{id}/executions to check status.",
        "operationId": "trigger_execution_missions__mission_id__execute_post",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Trigger Execution",
        "tags": ["missions"]
      }
    },
    "/missions/{mission_id}/executions": {
      "get": {
        "description": "Get execution history for a mission.",
        "operationId": "list_executions_missions__mission_id__executions_get",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ExecutionResponse"
                  },
                  "title": "Response List Executions Missions  Mission Id  Executions Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Executions",
        "tags": ["missions"]
      }
    },
    "/missions/{mission_id}/executions/{execution_id}": {
      "get": {
        "description": "Get details of a specific execution.",
        "operationId": "get_execution_missions__mission_id__executions__execution_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "execution_id",
            "required": true,
            "schema": {
              "title": "Execution Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExecutionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Execution",
        "tags": ["missions"]
      }
    },
    "/missions/{mission_id}/pause": {
      "post": {
        "description": "Pause a mission (prevents scheduled execution).",
        "operationId": "pause_mission_missions__mission_id__pause_post",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MissionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Pause Mission",
        "tags": ["missions"]
      }
    },
    "/missions/{mission_id}/resume": {
      "post": {
        "description": "Resume a paused mission.",
        "operationId": "resume_mission_missions__mission_id__resume_post",
        "parameters": [
          {
            "in": "path",
            "name": "mission_id",
            "required": true,
            "schema": {
              "title": "Mission Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MissionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Resume Mission",
        "tags": ["missions"]
      }
    },
    "/notifications/create": {
      "post": {
        "description": "Create a notification in the queue for delivery.\n\nCalled by ambient monitor when it decides to engage.",
        "operationId": "notifications_create_notifications_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notifications Create",
        "tags": ["notifications"]
      }
    },
    "/notifications/pending": {
      "get": {
        "description": "Get pending notifications for a specific medium.\n\nBots poll this endpoint to retrieve messages that need to be delivered.",
        "operationId": "notifications_pending_notifications_pending_get",
        "parameters": [
          {
            "in": "query",
            "name": "medium",
            "required": true,
            "schema": {
              "title": "Medium",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notifications Pending",
        "tags": ["notifications"]
      }
    },
    "/notifications/recent": {
      "get": {
        "description": "Get recent notifications for a user (for ambient monitor context).",
        "operationId": "notifications_recent_notifications_recent_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": true,
            "schema": {
              "title": "User Id",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 5,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notifications Recent",
        "tags": ["notifications"]
      }
    },
    "/notifications/recent_unacknowledged": {
      "post": {
        "description": "Query recent unacknowledged notifications for escalation context.\n\nReturns notifications that were delivered but not acknowledged within the lookback period.",
        "operationId": "notifications_recent_unacknowledged_notifications_recent_unacknowledged_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationQueryRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notifications Recent Unacknowledged",
        "tags": ["notifications"]
      }
    },
    "/notifications/{notification_id}/acknowledge": {
      "post": {
        "description": "Mark a notification as acknowledged by the user.\n\nCalled when user responds/interacts after receiving notification.\nThis prevents escalation of the notification.",
        "operationId": "notification_acknowledge_notifications__notification_id__acknowledge_post",
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "required": true,
            "schema": {
              "title": "Notification Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notification Acknowledge",
        "tags": ["notifications"]
      }
    },
    "/notifications/{notification_id}/delivered": {
      "post": {
        "description": "Mark a notification as successfully delivered.\n\nCalled by bots after successfully sending a message.",
        "operationId": "notification_delivered_notifications__notification_id__delivered_post",
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "required": true,
            "schema": {
              "title": "Notification Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notification Delivered",
        "tags": ["notifications"]
      }
    },
    "/notifications/{notification_id}/failed": {
      "post": {
        "description": "Mark a notification as failed with error message.\n\nCalled by bots when message delivery fails.",
        "operationId": "notification_failed_notifications__notification_id__failed_post",
        "parameters": [
          {
            "in": "path",
            "name": "notification_id",
            "required": true,
            "schema": {
              "title": "Notification Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationFailedRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Notification Failed",
        "tags": ["notifications"]
      }
    },
    "/personalities": {
      "get": {
        "description": "List all personalities with their source indicator.",
        "operationId": "list_personalities_personalities_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Personalities"
      }
    },
    "/personalities/{name}": {
      "delete": {
        "description": "Delete a user config personality (reverts to embedded if exists).",
        "operationId": "delete_personality_personalities__name__delete",
        "parameters": [
          {
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "title": "Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Personality"
      },
      "get": {
        "description": "Get a single personality's full data for editing.",
        "operationId": "get_personality_personalities__name__get",
        "parameters": [
          {
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "title": "Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Personality"
      },
      "put": {
        "description": "Save a personality to user config directory.",
        "operationId": "save_personality_personalities__name__put",
        "parameters": [
          {
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "title": "Name",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PersonalitySaveRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Save Personality"
      }
    },
    "/personalities/{name}/avatar": {
      "get": {
        "description": "Serve a personality's avatar image.",
        "operationId": "get_personality_avatar_personalities__name__avatar_get",
        "parameters": [
          {
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "title": "Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Personality Avatar"
      },
      "post": {
        "description": "Upload a profile image for a personality.\n\nStores under ~/.config/dere/personalities/avatars and updates display.avatar.",
        "operationId": "upload_personality_avatar_personalities__name__avatar_post",
        "parameters": [
          {
            "in": "path",
            "name": "name",
            "required": true,
            "schema": {
              "title": "Name",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_personality_avatar_personalities__name__avatar_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Upload Personality Avatar"
      }
    },
    "/presence/available": {
      "get": {
        "description": "Get all online mediums for a user.\n\nReturns mediums that can currently receive messages.",
        "operationId": "presence_available_presence_available_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": true,
            "schema": {
              "title": "User Id",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Presence Available",
        "tags": ["presence"]
      }
    },
    "/presence/heartbeat": {
      "post": {
        "description": "Heartbeat to keep medium alive.\n\nBots should call this every 30s to maintain presence.",
        "operationId": "presence_heartbeat_presence_heartbeat_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PresenceHeartbeatRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Presence Heartbeat",
        "tags": ["presence"]
      }
    },
    "/presence/register": {
      "post": {
        "description": "Register a medium as online with available channels.\n\nUsed by Discord/Telegram/etc bots to announce they are online and ready to receive messages.\n\nFuture: Telegram integration\nPattern for implementing additional mediums (e.g., Telegram, Slack, etc.):\n1. Create bot client similar to Discord's DereDiscordClient\n2. Call this endpoint on startup with medium=\"telegram\"\n3. Provide available_channels with chat IDs and metadata\n4. Send heartbeats every 30s via /presence/heartbeat\n5. Poll /notifications/pending with medium=\"telegram\" query param\n6. Deliver notifications via bot API (e.g., Telegram send_message)\n7. Link sessions with user_id for cross-medium continuity",
        "operationId": "presence_register_presence_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PresenceRegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Presence Register",
        "tags": ["presence"]
      }
    },
    "/presence/unregister": {
      "post": {
        "description": "Cleanly unregister a medium on shutdown.",
        "operationId": "presence_unregister_presence_unregister_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PresenceUnregisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Presence Unregister",
        "tags": ["presence"]
      }
    },
    "/queue/add": {
      "post": {
        "description": "Add task to processing queue",
        "operationId": "queue_add_queue_add_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QueueAddRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Queue Add"
      }
    },
    "/queue/status": {
      "get": {
        "description": "Get queue statistics",
        "operationId": "queue_status_queue_status_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Queue Status"
      }
    },
    "/recall/findings/surface": {
      "post": {
        "description": "Mark an exploration finding as surfaced for deduplication.",
        "operationId": "mark_finding_surfaced_recall_findings_surface_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SurfaceFindingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Mark Finding Surfaced",
        "tags": ["recall"]
      }
    },
    "/recall/search": {
      "get": {
        "description": "Search conversation blocks and exploration findings with hybrid recall.",
        "operationId": "recall_search_recall_search_get",
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "title": "Query",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "days_back",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Days Back"
            }
          },
          {
            "in": "query",
            "name": "session_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Session Id"
            }
          },
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecallSearchResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Recall Search",
        "tags": ["recall"]
      }
    },
    "/routing/decide": {
      "post": {
        "description": "Use LLM to decide where to route a message based on context.\n\nThis is the core of omnipresent routing - NO hardcoded rules.\nLLM analyzes available mediums, user activity, recent conversations,\nand makes an intelligent decision about where to deliver the message.",
        "operationId": "routing_decide_routing_decide_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoutingDecideRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Routing Decide"
      }
    },
    "/search/hybrid": {
      "post": {
        "description": "Hybrid search using entities and embeddings.\n\nSupports cross-medium search:\n- If user_session_id provided: search across all sessions in user_session\n- If session_id provided: resolve user_session_id and search across all sessions\n- Otherwise: search all conversations",
        "operationId": "search_hybrid_search_hybrid_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/HybridSearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Hybrid"
      }
    },
    "/search/similar": {
      "post": {
        "description": "Search for similar conversations using vector similarity",
        "operationId": "search_similar_search_similar_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Search Similar"
      }
    },
    "/sessions/context": {
      "get": {
        "description": "Get the latest global summary context.",
        "operationId": "get_summary_context_sessions_context_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SummaryContextResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get Summary Context",
        "tags": ["sessions"]
      }
    },
    "/sessions/create": {
      "post": {
        "description": "Create a new session",
        "operationId": "create_session_sessions_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateSessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Session",
        "tags": ["sessions"]
      }
    },
    "/sessions/end": {
      "post": {
        "description": "End a session and generate summary.\n\nFlushes pending emotion appraisals and generates a rolling summary\nof recent conversation content.",
        "operationId": "end_session_sessions_end_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EndSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EndSessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "End Session",
        "tags": ["sessions"]
      }
    },
    "/sessions/find_or_create": {
      "post": {
        "description": "Find existing session or create new one with continuity support.\n\nIf an existing session is found within max_age_hours, it will be resumed.\nIf an old session exists but is outside max_age_hours, a new session will\nbe created with continued_from linkage for historical continuity.",
        "operationId": "find_or_create_session_sessions_find_or_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FindOrCreateSessionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FindOrCreateSessionResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Find Or Create Session",
        "tags": ["sessions"]
      }
    },
    "/sessions/last_interaction": {
      "get": {
        "description": "Get timestamp of most recent conversation message.",
        "operationId": "get_last_interaction_sessions_last_interaction_get",
        "parameters": [
          {
            "in": "query",
            "name": "user_id",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Last Interaction",
        "tags": ["sessions"]
      }
    },
    "/sessions/{session_id}/claude_session": {
      "post": {
        "description": "Update the Claude SDK session ID for a daemon session.\n\nThis is called after creating a ClaudeSDKClient and capturing its session ID\nfrom the first system init message.",
        "operationId": "update_claude_session_sessions__session_id__claude_session_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "title": "Claude Session Id",
                "type": "string"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Claude Session",
        "tags": ["sessions"]
      }
    },
    "/sessions/{session_id}/history": {
      "get": {
        "description": "Get conversation history for a session",
        "operationId": "get_history_sessions__session_id__history_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get History",
        "tags": ["sessions"]
      }
    },
    "/sessions/{session_id}/last_message_time": {
      "get": {
        "description": "Get timestamp of most recent conversation message in session",
        "operationId": "get_last_message_time_sessions__session_id__last_message_time_get",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Last Message Time",
        "tags": ["sessions"]
      }
    },
    "/sessions/{session_id}/message": {
      "post": {
        "description": "Store a message",
        "operationId": "store_message_sessions__session_id__message_post",
        "parameters": [
          {
            "in": "path",
            "name": "session_id",
            "required": true,
            "schema": {
              "title": "Session Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StoreMessageRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StoreMessageResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Store Message",
        "tags": ["sessions"]
      }
    },
    "/status/get": {
      "post": {
        "description": "Get daemon and queue status",
        "operationId": "status_get_status_get_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Status Get"
      }
    },
    "/swarm": {
      "get": {
        "description": "List swarms, optionally filtered by status.",
        "operationId": "list_swarms_swarm_get",
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SwarmListResponse"
                  },
                  "title": "Response List Swarms Swarm Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Swarms",
        "tags": ["swarm"]
      }
    },
    "/swarm/create": {
      "post": {
        "description": "Create a new swarm with agents.\n\nIf auto_start is True (default), the swarm will start executing immediately.",
        "operationId": "create_swarm_swarm_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSwarmRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateSwarmResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Swarm",
        "tags": ["swarm"]
      }
    },
    "/swarm/personalities": {
      "get": {
        "description": "List available personalities for swarm agents.",
        "operationId": "list_personalities_swarm_personalities_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPersonalitiesResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Personalities",
        "tags": ["swarm"]
      }
    },
    "/swarm/plugins": {
      "get": {
        "description": "List available plugins for swarm agents.\n\nScans the dere_plugins directory and returns metadata from each plugin.json.",
        "operationId": "list_plugins_swarm_plugins_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListPluginsResponse"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Plugins",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}": {
      "get": {
        "description": "Get swarm status including all agents.",
        "operationId": "get_swarm_swarm__swarm_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SwarmStatusResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Swarm",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/agent/{agent_name}": {
      "get": {
        "description": "Get output from a specific agent.",
        "operationId": "get_agent_swarm__swarm_id__agent__agent_name__get",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "agent_name",
            "required": true,
            "schema": {
              "title": "Agent Name",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentResult"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Agent",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/cancel": {
      "post": {
        "description": "Cancel all running/pending agents in the swarm.",
        "operationId": "cancel_swarm_swarm__swarm_id__cancel_post",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Cancel Swarm",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/dag": {
      "get": {
        "description": "Get DAG representation of swarm for visualization.\n\nArgs:\n    format: Output format - \"json\" (default) or \"dot\" (graphviz)\n\nReturns nodes with topological levels and edges with include modes.\nUseful for rendering dependency graphs in UI or generating diagrams.\n\nDOT format can be piped to graphviz:\n    curl .../swarm/42/dag?format=dot | dot -Tpng > swarm.png",
        "operationId": "get_swarm_dag_swarm__swarm_id__dag_get",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "format",
            "required": false,
            "schema": {
              "default": "json",
              "title": "Format",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Swarm Dag",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/merge": {
      "post": {
        "description": "Merge agent branches back to target branch.",
        "operationId": "merge_branches_swarm__swarm_id__merge_post",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MergeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MergeResult"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Merge Branches",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/resume": {
      "post": {
        "description": "Resume a failed or partially completed swarm.\n\nResets failed agents to pending and re-executes them.\nAlready-completed agents are skipped (their outputs are preserved).\n\nExamples:\n    - Resume all failed agents: POST /swarm/42/resume {}\n    - Resume specific agent: POST /swarm/42/resume {\"from_agents\": [\"reviewer\"]}",
        "operationId": "resume_swarm_swarm__swarm_id__resume_post",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResumeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Resume Swarm",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/scratchpad": {
      "get": {
        "description": "List all scratchpad entries for a swarm, optionally filtered by key prefix.",
        "operationId": "list_scratchpad_swarm__swarm_id__scratchpad_get",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "prefix",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Prefix"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ScratchpadEntry"
                  },
                  "title": "Response List Scratchpad Swarm  Swarm Id  Scratchpad Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Scratchpad",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/scratchpad/{key}": {
      "delete": {
        "description": "Delete a scratchpad entry.",
        "operationId": "delete_scratchpad_entry_swarm__swarm_id__scratchpad__key__delete",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "key",
            "required": true,
            "schema": {
              "title": "Key",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Scratchpad Entry",
        "tags": ["swarm"]
      },
      "get": {
        "description": "Get a specific scratchpad entry by key.",
        "operationId": "get_scratchpad_entry_swarm__swarm_id__scratchpad__key__get",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "key",
            "required": true,
            "schema": {
              "title": "Key",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScratchpadEntry"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Scratchpad Entry",
        "tags": ["swarm"]
      },
      "put": {
        "description": "Set or update a scratchpad entry.",
        "operationId": "set_scratchpad_entry_swarm__swarm_id__scratchpad__key__put",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "key",
            "required": true,
            "schema": {
              "title": "Key",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScratchpadSetRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScratchpadEntry"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Set Scratchpad Entry",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/start": {
      "post": {
        "description": "Start executing a pending swarm.",
        "operationId": "start_swarm_swarm__swarm_id__start_post",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Start Swarm",
        "tags": ["swarm"]
      }
    },
    "/swarm/{swarm_id}/wait": {
      "post": {
        "description": "Wait for agents to complete.\n\nThis is a blocking call that returns when the specified agents finish\nor the timeout is reached.",
        "operationId": "wait_for_swarm_swarm__swarm_id__wait_post",
        "parameters": [
          {
            "in": "path",
            "name": "swarm_id",
            "required": true,
            "schema": {
              "title": "Swarm Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WaitRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/AgentResult"
                  },
                  "title": "Response Wait For Swarm Swarm  Swarm Id  Wait Post",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Wait For Swarm",
        "tags": ["swarm"]
      }
    },
    "/taskwarrior/tasks": {
      "get": {
        "description": "Export tasks from Taskwarrior.\n\nArgs:\n    status: Filter by status (pending, completed, deleted)\n    project: Filter by project name\n    include_completed: Whether to include completed tasks (for analytics)",
        "operationId": "get_tasks_taskwarrior_tasks_get",
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "in": "query",
            "name": "project",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Project"
            }
          },
          {
            "in": "query",
            "name": "include_completed",
            "required": false,
            "schema": {
              "default": true,
              "title": "Include Completed",
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TasksResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Tasks",
        "tags": ["taskwarrior"]
      }
    },
    "/user/info": {
      "get": {
        "description": "Get current user info from config.",
        "operationId": "get_user_info_user_info_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "Get User Info"
      }
    },
    "/work-queue/tasks": {
      "get": {
        "description": "List tasks with optional filtering.",
        "operationId": "list_tasks_work_queue_tasks_get",
        "parameters": [
          {
            "in": "query",
            "name": "working_dir",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Working Dir"
            }
          },
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "in": "query",
            "name": "task_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Type"
            }
          },
          {
            "in": "query",
            "name": "tags",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Tags"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 50,
              "title": "Limit",
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "offset",
            "required": false,
            "schema": {
              "default": 0,
              "title": "Offset",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "List Tasks",
        "tags": ["work-queue"]
      },
      "post": {
        "description": "Create a new project task.",
        "operationId": "create_task_work_queue_tasks_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTaskRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Task",
        "tags": ["work-queue"]
      }
    },
    "/work-queue/tasks/ready": {
      "get": {
        "description": "Get tasks ready for work (unblocked, unclaimed).",
        "operationId": "get_ready_tasks_work_queue_tasks_ready_get",
        "parameters": [
          {
            "in": "query",
            "name": "working_dir",
            "required": true,
            "schema": {
              "title": "Working Dir",
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "task_type",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Task Type"
            }
          },
          {
            "in": "query",
            "name": "required_tools",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "items": {
                    "type": "string"
                  },
                  "type": "array"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Required Tools"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "default": 10,
              "title": "Limit",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskListResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Ready Tasks",
        "tags": ["work-queue"]
      }
    },
    "/work-queue/tasks/{task_id}": {
      "delete": {
        "description": "Delete a task.",
        "operationId": "delete_task_work_queue_tasks__task_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {}
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Task",
        "tags": ["work-queue"]
      },
      "get": {
        "description": "Get a specific task by ID.",
        "operationId": "get_task_work_queue_tasks__task_id__get",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Task",
        "tags": ["work-queue"]
      },
      "patch": {
        "description": "Update task details or status.",
        "operationId": "update_task_work_queue_tasks__task_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTaskRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Update Task",
        "tags": ["work-queue"]
      }
    },
    "/work-queue/tasks/{task_id}/claim": {
      "post": {
        "description": "Atomically claim a ready task.",
        "operationId": "claim_task_work_queue_tasks__task_id__claim_post",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClaimTaskRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Claim Task",
        "tags": ["work-queue"]
      }
    },
    "/work-queue/tasks/{task_id}/release": {
      "post": {
        "description": "Release a claimed task back to ready.",
        "operationId": "release_task_work_queue_tasks__task_id__release_post",
        "parameters": [
          {
            "in": "path",
            "name": "task_id",
            "required": true,
            "schema": {
              "title": "Task Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReleaseTaskRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Release Task",
        "tags": ["work-queue"]
      }
    }
  }
}
